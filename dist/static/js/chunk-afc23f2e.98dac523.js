(window["webpackJsonp_datastudio-web"]=window["webpackJsonp_datastudio-web"]||[]).push([["chunk-afc23f2e"],{"49bb":function(e,t,a){"use strict";var n=a("f3bb"),i=a("3842"),r=a("f934"),o=a("6d8b"),l=2*Math.PI,s=Math.PI/180;function c(e,t){return r["d"](e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function g(e,t){var a=c(e,t),n=e.get("center"),r=e.get("radius");o["s"](r)||(r=[0,r]);var l,s,g=Object(i["q"])(a.width,t.getWidth()),u=Object(i["q"])(a.height,t.getHeight()),d=Math.min(g,u),h=Object(i["q"])(r[0],d/2),f=Object(i["q"])(r[1],d/2),b=e.coordinateSystem;if(b){var p=b.dataToPoint(n);l=p[0]||0,s=p[1]||0}else o["s"](n)||(n=[n,n]),l=Object(i["q"])(n[0],g)+a.x,s=Object(i["q"])(n[1],u)+a.y;return{cx:l,cy:s,r0:h,r:f}}function u(e,t,a){t.eachSeriesByType(e,(function(e){var t=e.getData(),n=t.mapDimension("value"),r=c(e,a),o=g(e,a),u=o.cx,d=o.cy,h=o.r,f=o.r0,b=-e.get("startAngle")*s,p=e.get("minAngle")*s,y=0;t.each(n,(function(e){!isNaN(e)&&y++}));var v=t.getSum(n),m=Math.PI/(v||y)*2,x=e.get("clockwise"),L=e.get("roseType"),O=e.get("stillShowZeroSum"),M=t.getDataExtent(n);M[0]=0;var A=l,j=0,w=b,T=x?1:-1;if(t.setLayout({viewRect:r,r:h}),t.each(n,(function(e,a){var n;if(isNaN(e))t.setItemLayout(a,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:x,cx:u,cy:d,r0:f,r:L?NaN:h});else{n="area"!==L?0===v&&O?m:e*m:l/y,n<p?(n=p,A-=p):j+=e;var r=w+T*n;t.setItemLayout(a,{angle:n,startAngle:w,endAngle:r,clockwise:x,cx:u,cy:d,r0:f,r:L?Object(i["m"])(e,M,[f,h]):h}),w=r}})),A<l&&y)if(A<=.001){var S=l/y;t.each(n,(function(e,a){if(!isNaN(e)){var n=t.getItemLayout(a);n.angle=S,n.startAngle=b+T*a*S,n.endAngle=b+T*(a+1)*S}}))}else m=A/j,w=b,t.each(n,(function(e,a){if(!isNaN(e)){var n=t.getItemLayout(a),i=n.angle===p?p:e*m;n.startAngle=w,n.endAngle=w+T*i,w+=T*i}}))}))}function d(e){return{seriesType:e,reset:function(e,t){var a=t.findComponents({mainType:"legend"});if(a&&a.length){var n=e.getData();n.filterSelf((function(e){for(var t=n.getName(e),i=0;i<a.length;i++)if(!a[i].isSelected(t))return!1;return!0}))}}}}var h=a("7fae"),f=a("76a5"),b=a("deca"),p=a("d498"),y=a("4aa2"),v=a("7d6c"),m=a("e887"),x=a("dce8"),L=a("89b6"),O=a("2355"),M=Math.PI/180;function A(e,t,a,n,i,r,o,l,s,c){if(!(e.length<2)){for(var g=e.length,u=0;u<g;u++)if("outer"===e[u].position&&"labelLine"===e[u].labelAlignTo){var d=e[u].label.x-c;e[u].linePoints[1][0]+=d,e[u].label.x=c}Object(O["d"])(e,s,s+o)&&f(e)}function h(e){for(var r=e.rB,o=r*r,l=0;l<e.list.length;l++){var s=e.list[l],c=Math.abs(s.label.y-a),g=n+s.len,u=g*g,d=Math.sqrt((1-Math.abs(c*c/o))*u),h=t+(d+s.len2)*i,f=h-s.label.x,b=s.targetTextWidth-f*i;w(s,b,!0),s.label.x=h}}function f(e){for(var r={list:[],maxY:0},o={list:[],maxY:0},l=0;l<e.length;l++)if("none"===e[l].labelAlignTo){var s=e[l],c=s.label.y>a?o:r,g=Math.abs(s.label.y-a);if(g>=c.maxY){var u=s.label.x-t-s.len2*i,d=n+s.len,f=Math.abs(u)<d?Math.sqrt(g*g/(1-u*u/d/d)):d;c.rB=f,c.maxY=g}c.list.push(s)}h(r),h(o)}}function j(e,t,a,n,i,r,o,l){for(var s=[],c=[],g=Number.MAX_VALUE,u=-Number.MAX_VALUE,d=0;d<e.length;d++){var h=e[d].label;T(e[d])||(h.x<t?(g=Math.min(g,h.x),s.push(e[d])):(u=Math.max(u,h.x),c.push(e[d])))}for(d=0;d<e.length;d++){var f=e[d];if(!T(f)&&f.linePoints){if(null!=f.labelStyleWidth)continue;h=f.label;var b=f.linePoints,p=void 0;p="edge"===f.labelAlignTo?h.x<t?b[2][0]-f.labelDistance-o-f.edgeDistance:o+i-f.edgeDistance-b[2][0]-f.labelDistance:"labelLine"===f.labelAlignTo?h.x<t?g-o-f.bleedMargin:o+i-u-f.bleedMargin:h.x<t?h.x-o-f.bleedMargin:o+i-h.x-f.bleedMargin,f.targetTextWidth=p,w(f,p)}}A(c,t,a,n,1,i,r,o,l,u),A(s,t,a,n,-1,i,r,o,l,g);for(d=0;d<e.length;d++){f=e[d];if(!T(f)&&f.linePoints){h=f.label,b=f.linePoints;var y="edge"===f.labelAlignTo,v=h.style.padding,m=v?v[1]+v[3]:0,x=h.style.backgroundColor?0:m,L=f.rect.width+x,O=b[1][0]-b[2][0];y?h.x<t?b[2][0]=o+f.edgeDistance+L+f.labelDistance:b[2][0]=o+i-f.edgeDistance-L-f.labelDistance:(h.x<t?b[2][0]=h.x+f.labelDistance:b[2][0]=h.x-f.labelDistance,b[1][0]=b[2][0]+O),b[1][1]=b[2][1]=h.y}}}function w(e,t,a){if(void 0===a&&(a=!1),null==e.labelStyleWidth){var n=e.label,i=n.style,r=e.rect,o=i.backgroundColor,l=i.padding,s=l?l[1]+l[3]:0,c=i.overflow,g=r.width+(o?0:s);if(t<g||a){var u=r.height;if(c&&c.match("break")){n.setStyle("backgroundColor",null),n.setStyle("width",t-s);var d=n.getBoundingRect();n.setStyle("width",Math.ceil(d.width)),n.setStyle("backgroundColor",o)}else{var h=t-s,f=t<g?h:a?h>e.unconstrainedWidth?null:h:null;n.setStyle("width",f)}var b=n.getBoundingRect();r.width=b.width;var p=(n.style.margin||0)+2.1;r.height=b.height+p,r.y-=(r.height-u)/2}}}function T(e){return"center"===e.position}function S(e){var t,a,n=e.getData(),r=[],l=!1,s=(e.get("minShowLabelAngle")||0)*M,c=n.getLayout("viewRect"),g=n.getLayout("r"),u=c.width,d=c.x,h=c.y,f=c.height;function b(e){e.ignore=!0}function p(e){if(!e.ignore)return!0;for(var t in e.states)if(!1===e.states[t].ignore)return!0;return!1}n.each((function(e){var c=n.getItemGraphicEl(e),h=c.shape,f=c.getTextContent(),y=c.getTextGuideLine(),v=n.getItemModel(e),m=v.getModel("label"),L=m.get("position")||v.get(["emphasis","label","position"]),O=m.get("distanceToLabelLine"),M=m.get("alignTo"),A=Object(i["q"])(m.get("edgeDistance"),u),j=m.get("bleedMargin"),w=v.getModel("labelLine"),T=w.get("length");T=Object(i["q"])(T,u);var S=w.get("length2");if(S=Object(i["q"])(S,u),Math.abs(h.endAngle-h.startAngle)<s)return Object(o["k"])(f.states,b),f.ignore=!0,void(y&&(Object(o["k"])(y.states,b),y.ignore=!0));if(p(f)){var D,I,_,C,N=(h.startAngle+h.endAngle)/2,P=Math.cos(N),k=Math.sin(N);t=h.cx,a=h.cy;var G="inside"===L||"inner"===L;if("center"===L)D=h.cx,I=h.cy,C="center";else{var q=(G?(h.r+h.r0)/2*P:h.r*P)+t,E=(G?(h.r+h.r0)/2*k:h.r*k)+a;if(D=q+3*P,I=E+3*k,!G){var R=q+P*(T+g-h.r),V=E+k*(T+g-h.r),W=R+(P<0?-1:1)*S,Y=V;D="edge"===M?P<0?d+A:d+u-A:W+(P<0?-O:O),I=Y,_=[[q,E],[R,V],[W,Y]]}C=G?"center":"edge"===M?P>0?"right":"left":P>0?"left":"right"}var B=Math.PI,U=0,X=m.get("rotate");if(Object(o["y"])(X))U=X*(B/180);else if("center"===L)U=0;else if("radial"===X||!0===X){var z=P<0?-N+B:-N;U=z}else if("tangential"===X&&"outside"!==L&&"outer"!==L){var H=Math.atan2(P,k);H<0&&(H=2*B+H);var F=k>0;F&&(H=B+H),U=H-B}if(l=!!U,f.x=D,f.y=I,f.rotation=U,f.setStyle({verticalAlign:"middle"}),G){f.setStyle({align:C});var J=f.states.select;J&&(J.x+=f.x,J.y+=f.y)}else{var Z=f.getBoundingRect().clone();Z.applyTransform(f.getComputedTransform());var Q=(f.style.margin||0)+2.1;Z.y-=Q/2,Z.height+=Q,r.push({label:f,labelLine:y,position:L,len:T,len2:S,minTurnAngle:w.get("minTurnAngle"),maxSurfaceAngle:w.get("maxSurfaceAngle"),surfaceNormal:new x["a"](P,k),linePoints:_,textAlign:C,labelDistance:O,labelAlignTo:M,edgeDistance:A,bleedMargin:j,rect:Z,unconstrainedWidth:Z.width,labelStyleWidth:f.style.width})}c.setTextConfig({inside:G})}})),!l&&e.get("avoidLabelOverlap")&&j(r,t,a,g,u,f,d,h);for(var y=0;y<r.length;y++){var v=r[y],m=v.label,O=v.labelLine,A=isNaN(m.x)||isNaN(m.y);if(m){m.setStyle({align:v.textAlign}),A&&(Object(o["k"])(m.states,b),m.ignore=!0);var w=m.states.select;w&&(w.x+=m.x,w.y+=m.y)}if(O){var T=v.linePoints;A||!T?(Object(o["k"])(O.states,b),O.ignore=!0):(Object(L["c"])(T,v.minTurnAngle),Object(L["b"])(T,v.surfaceNormal,v.maxSurfaceAngle),O.setShape({points:T}),m.__hostTarget.textGuideLineConfig={anchor:new x["a"](T[0][0],T[0][1])})}}}var D=a("7837"),I=a("e4b8"),_=function(e){function t(t,a,n){var i=e.call(this)||this;i.z2=2;var r=new f["a"];return i.setTextContent(r),i.updateData(t,a,n,!0),i}return Object(h["a"])(t,e),t.prototype.updateData=function(e,t,a,n){var i=this,r=e.hostModel,l=e.getItemModel(t),s=l.getModel("emphasis"),c=e.getItemLayout(t),g=Object(o["m"])(Object(I["a"])(l.getModel("itemStyle"),c,!0),c);if(isNaN(g.startAngle))i.setShape(g);else{if(n){i.setShape(g);var u=r.getShallow("animationType");r.ecModel.ssr?(b["c"](i,{scaleX:0,scaleY:0},r,{dataIndex:t,isFrom:!0}),i.originX=g.cx,i.originY=g.cy):"scale"===u?(i.shape.r=c.r0,b["c"](i,{shape:{r:c.r}},r,t)):null!=a?(i.setShape({startAngle:a,endAngle:a}),b["c"](i,{shape:{startAngle:c.startAngle,endAngle:c.endAngle}},r,t)):(i.shape.endAngle=c.startAngle,b["h"](i,{shape:{endAngle:c.endAngle}},r,t))}else Object(b["g"])(i),b["h"](i,{shape:g},r,t);i.useStyle(e.getItemVisual(t,"style")),Object(v["D"])(i,l);var d=(c.startAngle+c.endAngle)/2,h=r.get("selectedOffset"),f=Math.cos(d)*h,p=Math.sin(d)*h,y=l.getShallow("cursor");y&&i.attr("cursor",y),this._updateLabel(r,e,t),i.ensureState("emphasis").shape=Object(o["m"])({r:c.r+(s.get("scale")&&s.get("scaleSize")||0)},Object(I["a"])(s.getModel("itemStyle"),c)),Object(o["m"])(i.ensureState("select"),{x:f,y:p,shape:Object(I["a"])(l.getModel(["select","itemStyle"]),c)}),Object(o["m"])(i.ensureState("blur"),{shape:Object(I["a"])(l.getModel(["blur","itemStyle"]),c)});var m=i.getTextGuideLine(),x=i.getTextContent();m&&Object(o["m"])(m.ensureState("select"),{x:f,y:p}),Object(o["m"])(x.ensureState("select"),{x:f,y:p}),Object(v["E"])(this,s.get("focus"),s.get("blurScope"),s.get("disabled"))}},t.prototype._updateLabel=function(e,t,a){var n=this,i=t.getItemModel(a),r=i.getModel("labelLine"),l=t.getItemVisual(a,"style"),s=l&&l.fill,c=l&&l.opacity;Object(D["f"])(n,Object(D["d"])(i),{labelFetcher:t.hostModel,labelDataIndex:a,inheritColor:s,defaultOpacity:c,defaultText:e.getFormattedLabel(a,"normal")||t.getName(a)});var g=n.getTextContent();n.setTextConfig({position:null,rotation:null}),g.attr({z2:10});var u=e.get(["label","position"]);if("outside"!==u&&"outer"!==u)n.removeTextGuideLine();else{var d=this.getTextGuideLine();d||(d=new p["a"],this.setTextGuideLine(d)),Object(L["d"])(this,Object(L["a"])(i),{stroke:s,opacity:Object(o["N"])(r.get(["lineStyle","opacity"]),c,1)})}},t}(y["a"]),C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ignoreLabelLineUpdate=!0,t}return Object(h["a"])(t,e),t.prototype.render=function(e,t,a,n){var i,r=e.getData(),o=this._data,l=this.group;if(!o&&r.count()>0){for(var s=r.getItemLayout(0),c=1;isNaN(s&&s.startAngle)&&c<r.count();++c)s=r.getItemLayout(c);s&&(i=s.startAngle)}if(this._emptyCircleSector&&l.remove(this._emptyCircleSector),0===r.count()&&e.get("showEmptyCircle")){var u=new y["a"]({shape:g(e,a)});u.useStyle(e.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=u,l.add(u)}r.diff(o).add((function(e){var t=new _(r,e,i);r.setItemGraphicEl(e,t),l.add(t)})).update((function(e,t){var a=o.getItemGraphicEl(t);a.updateData(r,e,i),a.off("click"),l.add(a),r.setItemGraphicEl(e,a)})).remove((function(t){var a=o.getItemGraphicEl(t);b["f"](a,e,t)})).execute(),S(e),"expansion"!==e.get("animationTypeUpdate")&&(this._data=r)},t.prototype.dispose=function(){},t.prototype.containPoint=function(e,t){var a=t.getData(),n=a.getItemLayout(0);if(n){var i=e[0]-n.cx,r=e[1]-n.cy,o=Math.sqrt(i*i+r*r);return o<=n.r&&o>=n.r0}},t.type="pie",t}(m["a"]),N=C,P=a("b1d4"),k=a("b682");function G(e,t,a){t=Object(o["s"])(t)&&{coordDimensions:t}||Object(o["m"])({encodeDefine:e.getEncode()},t);var n=e.getSource(),i=Object(P["a"])(n,t).dimensions,r=new k["a"](i,e);return r.initData(n,a),r}var q=a("e0d3"),E=a("0f99"),R=function(){function e(e,t){this._getDataWithEncodedVisual=e,this._getRawData=t}return e.prototype.getAllNames=function(){var e=this._getRawData();return e.mapArray(e.getName)},e.prototype.containName=function(e){var t=this._getRawData();return t.indexOfName(e)>=0},e.prototype.indexOfName=function(e){var t=this._getDataWithEncodedVisual();return t.indexOfName(e)},e.prototype.getItemVisual=function(e,t){var a=this._getDataWithEncodedVisual();return a.getItemVisual(e,t)},e}(),V=R,W=a("4f85"),Y=q["m"](),B=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(h["a"])(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new V(o["c"](this.getData,this),o["c"](this.getRawData,this)),this._defaultLabelLine(t)},t.prototype.mergeOption=function(){e.prototype.mergeOption.apply(this,arguments)},t.prototype.getInitialData=function(){return G(this,{coordDimensions:["value"],encodeDefaulter:o["h"](E["d"],this)})},t.prototype.getDataParams=function(t){var a=this.getData(),n=Y(a),r=n.seats;if(!r){var o=[];a.each(a.mapDimension("value"),(function(e){o.push(e)})),r=n.seats=Object(i["e"])(o,a.hostModel.get("percentPrecision"))}var l=e.prototype.getDataParams.call(this,t);return l.percent=r[t]||0,l.$vars.push("percent"),l},t.prototype._defaultLabelLine=function(e){q["e"](e,"labelLine",["show"]);var t=e.labelLine,a=e.emphasis.labelLine;t.show=t.show&&e.label.show,a.show=a.show&&e.emphasis.label.show},t.type="series.pie",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},t}(W["b"]),U=B;function X(e){return{seriesType:e,reset:function(e,t){var a=e.getData();a.filterSelf((function(e){var t=a.mapDimension("value"),n=a.get(t,e);return!(Object(o["y"])(n)&&!isNaN(n)&&n<0)}))}}}function z(e){e.registerChartView(N),e.registerSeriesModel(U),Object(n["a"])("pie",e.registerAction),e.registerLayout(Object(o["h"])(u,"pie")),e.registerProcessor(d("pie")),e.registerProcessor(X("pie"))}a.d(t,"a",(function(){return z}))},"89b6":function(e,t,a){"use strict";a.d(t,"e",(function(){return S})),a.d(t,"c",(function(){return _})),a.d(t,"b",(function(){return C})),a.d(t,"d",(function(){return k})),a.d(t,"a",(function(){return G}));var n=a("dce8"),i=a("cbe5"),r=a("d498"),o=a("20c8"),l=a("857d"),s=a("4a3f"),c=a("6d8b"),g=a("1687"),u=a("401b"),d=a("7d6c"),h=2*Math.PI,f=o["a"].CMD,b=["top","right","bottom","left"];function p(e,t,a,n,i){var r=a.width,o=a.height;switch(e){case"top":n.set(a.x+r/2,a.y-t),i.set(0,-1);break;case"bottom":n.set(a.x+r/2,a.y+o+t),i.set(0,1);break;case"left":n.set(a.x-t,a.y+o/2),i.set(-1,0);break;case"right":n.set(a.x+r+t,a.y+o/2),i.set(1,0);break}}function y(e,t,a,n,i,r,o,s,c){o-=e,s-=t;var g=Math.sqrt(o*o+s*s);o/=g,s/=g;var u=o*a+e,d=s*a+t;if(Math.abs(n-i)%h<1e-4)return c[0]=u,c[1]=d,g-a;if(r){var f=n;n=Object(l["a"])(i),i=Object(l["a"])(f)}else n=Object(l["a"])(n),i=Object(l["a"])(i);n>i&&(i+=h);var b=Math.atan2(s,o);if(b<0&&(b+=h),b>=n&&b<=i||b+h>=n&&b+h<=i)return c[0]=u,c[1]=d,g-a;var p=a*Math.cos(n)+e,y=a*Math.sin(n)+t,v=a*Math.cos(i)+e,m=a*Math.sin(i)+t,x=(p-o)*(p-o)+(y-s)*(y-s),L=(v-o)*(v-o)+(m-s)*(m-s);return x<L?(c[0]=p,c[1]=y,Math.sqrt(x)):(c[0]=v,c[1]=m,Math.sqrt(L))}function v(e,t,a,n,i,r,o,l){var s=i-e,c=r-t,g=a-e,u=n-t,d=Math.sqrt(g*g+u*u);g/=d,u/=d;var h=s*g+c*u,f=h/d;l&&(f=Math.min(Math.max(f,0),1)),f*=d;var b=o[0]=e+f*g,p=o[1]=t+f*u;return Math.sqrt((b-i)*(b-i)+(p-r)*(p-r))}function m(e,t,a,n,i,r,o){a<0&&(e+=a,a=-a),n<0&&(t+=n,n=-n);var l=e+a,s=t+n,c=o[0]=Math.min(Math.max(i,e),l),g=o[1]=Math.min(Math.max(r,t),s);return Math.sqrt((c-i)*(c-i)+(g-r)*(g-r))}var x=[];function L(e,t,a){var n=m(t.x,t.y,t.width,t.height,e.x,e.y,x);return a.set(x[0],x[1]),n}function O(e,t,a){for(var n,i,r=0,o=0,l=0,c=0,g=1/0,u=t.data,d=e.x,h=e.y,b=0;b<u.length;){var p=u[b++];1===b&&(r=u[b],o=u[b+1],l=r,c=o);var L=g;switch(p){case f.M:l=u[b++],c=u[b++],r=l,o=c;break;case f.L:L=v(r,o,u[b],u[b+1],d,h,x,!0),r=u[b++],o=u[b++];break;case f.C:L=Object(s["e"])(r,o,u[b++],u[b++],u[b++],u[b++],u[b],u[b+1],d,h,x),r=u[b++],o=u[b++];break;case f.Q:L=Object(s["l"])(r,o,u[b++],u[b++],u[b],u[b+1],d,h,x),r=u[b++],o=u[b++];break;case f.A:var O=u[b++],M=u[b++],A=u[b++],j=u[b++],w=u[b++],T=u[b++];b+=1;var S=!!(1-u[b++]);n=Math.cos(w)*A+O,i=Math.sin(w)*j+M,b<=1&&(l=n,c=i);var D=(d-O)*j/A+O;L=y(O,M,j,w,w+T,S,D,h,x),r=Math.cos(w+T)*A+O,o=Math.sin(w+T)*j+M;break;case f.R:l=r=u[b++],c=o=u[b++];var I=u[b++],_=u[b++];L=m(l,c,I,_,d,h,x);break;case f.Z:L=v(r,o,l,c,d,h,x,!0),r=l,o=c;break}L<g&&(g=L,a.set(x[0],x[1]))}return g}var M=new n["a"],A=new n["a"],j=new n["a"],w=new n["a"],T=new n["a"];function S(e,t){if(e){var a=e.getTextGuideLine(),r=e.getTextContent();if(r&&a){var o=e.textGuideLineConfig||{},l=[[0,0],[0,0],[0,0]],s=o.candidates||b,c=r.getBoundingRect().clone();c.applyTransform(r.getComputedTransform());var u=1/0,d=o.anchor,h=e.getComputedTransform(),f=h&&Object(g["d"])([],h),y=t.get("length2")||0;d&&j.copy(d);for(var v=0;v<s.length;v++){var m=s[v];p(m,0,c,M,w),n["a"].scaleAndAdd(A,M,w,y),A.transform(f);var x=e.getBoundingRect(),T=d?d.distance(A):e instanceof i["b"]?O(A,e.path,j):L(A,x,j);T<u&&(u=T,A.transform(h),j.transform(h),j.toArray(l[0]),A.toArray(l[1]),M.toArray(l[2]))}_(l,t.get("minTurnAngle")),a.setShape({points:l})}}}var D=[],I=new n["a"];function _(e,t){if(t<=180&&t>0){t=t/180*Math.PI,M.fromArray(e[0]),A.fromArray(e[1]),j.fromArray(e[2]),n["a"].sub(w,M,A),n["a"].sub(T,j,A);var a=w.len(),i=T.len();if(!(a<.001||i<.001)){w.scale(1/a),T.scale(1/i);var r=w.dot(T),o=Math.cos(t);if(o<r){var l=v(A.x,A.y,j.x,j.y,M.x,M.y,D,!1);I.fromArray(D),I.scaleAndAdd(T,l/Math.tan(Math.PI-t));var s=j.x!==A.x?(I.x-A.x)/(j.x-A.x):(I.y-A.y)/(j.y-A.y);if(isNaN(s))return;s<0?n["a"].copy(I,A):s>1&&n["a"].copy(I,j),I.toArray(e[1])}}}}function C(e,t,a){if(a<=180&&a>0){a=a/180*Math.PI,M.fromArray(e[0]),A.fromArray(e[1]),j.fromArray(e[2]),n["a"].sub(w,A,M),n["a"].sub(T,j,A);var i=w.len(),r=T.len();if(!(i<.001||r<.001)){w.scale(1/i),T.scale(1/r);var o=w.dot(t),l=Math.cos(a);if(o<l){var s=v(A.x,A.y,j.x,j.y,M.x,M.y,D,!1);I.fromArray(D);var c=Math.PI/2,g=Math.acos(T.dot(t)),u=c+g-a;if(u>=c)n["a"].copy(I,j);else{I.scaleAndAdd(T,s/Math.tan(Math.PI/2-u));var d=j.x!==A.x?(I.x-A.x)/(j.x-A.x):(I.y-A.y)/(j.y-A.y);if(isNaN(d))return;d<0?n["a"].copy(I,A):d>1&&n["a"].copy(I,j)}I.toArray(e[1])}}}}function N(e,t,a,n){var i="normal"===a,r=i?e:e.ensureState(a);r.ignore=t;var o=n.get("smooth");o&&!0===o&&(o=.3),r.shape=r.shape||{},o>0&&(r.shape.smooth=o);var l=n.getModel("lineStyle").getLineStyle();i?e.useStyle(l):r.style=l}function P(e,t){var a=t.smooth,n=t.points;if(n)if(e.moveTo(n[0][0],n[0][1]),a>0&&n.length>=3){var i=u["e"](n[0],n[1]),r=u["e"](n[1],n[2]);if(!i||!r)return e.lineTo(n[1][0],n[1][1]),void e.lineTo(n[2][0],n[2][1]);var o=Math.min(i,r)*a,l=u["h"]([],n[1],n[0],o/i),s=u["h"]([],n[1],n[2],o/r),c=u["h"]([],l,s,.5);e.bezierCurveTo(l[0],l[1],l[0],l[1],c[0],c[1]),e.bezierCurveTo(s[0],s[1],s[0],s[1],n[2][0],n[2][1])}else for(var g=1;g<n.length;g++)e.lineTo(n[g][0],n[g][1])}function k(e,t,a){var n=e.getTextGuideLine(),i=e.getTextContent();if(i){for(var o=t.normal,l=o.get("show"),s=i.ignore,g=0;g<d["a"].length;g++){var u=d["a"][g],h=t[u],f="normal"===u;if(h){var b=h.get("show"),p=f?s:Object(c["M"])(i.states[u]&&i.states[u].ignore,s);if(p||!Object(c["M"])(b,l)){var y=f?n:n&&n.states[u];y&&(y.ignore=!0);continue}n||(n=new r["a"],e.setTextGuideLine(n),f||!s&&l||N(n,!0,"normal",t.normal),e.stateProxy&&(n.stateProxy=e.stateProxy)),N(n,!1,u,h)}}if(n){Object(c["i"])(n.style,a),n.style.fill=null;var v=o.get("showAbove"),m=e.textGuideLineConfig=e.textGuideLineConfig||{};m.showAbove=v||!1,n.buildPath=P}}else n&&e.removeTextGuideLine()}function G(e,t){t=t||"labelLine";for(var a={normal:e.getModel(t)},n=0;n<d["g"].length;n++){var i=d["g"][n];a[i]=e.getModel([i,t])}return a}},ee29:function(e,t,a){"use strict";var n=a("e0d3"),i=a("9850"),r=a("deca"),o=a("861c"),l=a("3842"),s=a("8582"),c=a("89b6"),g=a("6d8b"),u=a("2355"),d=a("7837"),h=a("857d");function f(e){if(e){for(var t=[],a=0;a<e.length;a++)t.push(e[a].slice());return t}}function b(e,t){var a=e.label,n=t&&t.getTextGuideLine();return{dataIndex:e.dataIndex,dataType:e.dataType,seriesIndex:e.seriesModel.seriesIndex,text:e.label.style.text,rect:e.hostRect,labelRect:e.rect,align:a.style.align,verticalAlign:a.style.verticalAlign,labelLinePoints:f(n&&n.shape.points)}}var p=["align","verticalAlign","width","height","fontSize"],y=new s["b"],v=Object(n["m"])(),m=Object(n["m"])();function x(e,t,a){for(var n=0;n<a.length;n++){var i=a[n];null!=t[i]&&(e[i]=t[i])}}var L=["x","y","rotation"],O=function(){function e(){this._labelList=[],this._chartViewList=[]}return e.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},e.prototype._addLabel=function(e,t,a,n,r){var o=n.style,l=n.__hostTarget,s=l.textConfig||{},c=n.getComputedTransform(),g=n.getBoundingRect().plain();i["a"].applyTransform(g,g,c),c?y.setLocalTransform(c):(y.x=y.y=y.rotation=y.originX=y.originY=0,y.scaleX=y.scaleY=1),y.rotation=Object(h["a"])(y.rotation);var u,d=n.__hostTarget;if(d){u=d.getBoundingRect().plain();var f=d.getComputedTransform();i["a"].applyTransform(u,u,f)}var b=u&&d.getTextGuideLine();this._labelList.push({label:n,labelLine:b,seriesModel:a,dataIndex:e,dataType:t,layoutOption:r,computedLayoutOption:null,rect:g,hostRect:u,priority:u?u.width*u.height:0,defaultAttr:{ignore:n.ignore,labelGuideIgnore:b&&b.ignore,x:y.x,y:y.y,scaleX:y.scaleX,scaleY:y.scaleY,rotation:y.rotation,style:{x:o.x,y:o.y,align:o.align,verticalAlign:o.verticalAlign,width:o.width,height:o.height,fontSize:o.fontSize},cursor:n.cursor,attachedPos:s.position,attachedRot:s.rotation}})},e.prototype.addLabelsOfSeries=function(e){var t=this;this._chartViewList.push(e);var a=e.__model,n=a.get("labelLayout");(Object(g["v"])(n)||Object(g["D"])(n).length)&&e.group.traverse((function(e){if(e.ignore)return!0;var i=e.getTextContent(),r=Object(o["a"])(e);i&&!i.disableLabelLayout&&t._addLabel(r.dataIndex,r.dataType,a,i,n)}))},e.prototype.updateLayoutConfig=function(e){var t=e.getWidth(),a=e.getHeight();function n(e,t){return function(){Object(c["e"])(e,t)}}for(var i=0;i<this._labelList.length;i++){var r=this._labelList[i],o=r.label,s=o.__hostTarget,u=r.defaultAttr,d=void 0;d=Object(g["v"])(r.layoutOption)?r.layoutOption(b(r,s)):r.layoutOption,d=d||{},r.computedLayoutOption=d;var h=Math.PI/180;s&&s.setTextConfig({local:!1,position:null!=d.x||null!=d.y?null:u.attachedPos,rotation:null!=d.rotate?d.rotate*h:u.attachedRot,offset:[d.dx||0,d.dy||0]});var f=!1;if(null!=d.x?(o.x=Object(l["q"])(d.x,t),o.setStyle("x",0),f=!0):(o.x=u.x,o.setStyle("x",u.style.x)),null!=d.y?(o.y=Object(l["q"])(d.y,a),o.setStyle("y",0),f=!0):(o.y=u.y,o.setStyle("y",u.style.y)),d.labelLinePoints){var y=s.getTextGuideLine();y&&(y.setShape({points:d.labelLinePoints}),f=!1)}var m=v(o);m.needsUpdateLabelLine=f,o.rotation=null!=d.rotate?d.rotate*h:u.rotation,o.scaleX=u.scaleX,o.scaleY=u.scaleY;for(var x=0;x<p.length;x++){var L=p[x];o.setStyle(L,null!=d[L]?d[L]:u.style[L])}if(d.draggable){if(o.draggable=!0,o.cursor="move",s){var O=r.seriesModel;if(null!=r.dataIndex){var M=r.seriesModel.getData(r.dataType);O=M.getItemModel(r.dataIndex)}o.on("drag",n(s,O.getModel("labelLine")))}}else o.off("drag"),o.cursor=u.cursor}},e.prototype.layout=function(e){var t=e.getWidth(),a=e.getHeight(),n=Object(u["b"])(this._labelList),i=Object(g["n"])(n,(function(e){return"shiftX"===e.layoutOption.moveOverlap})),r=Object(g["n"])(n,(function(e){return"shiftY"===e.layoutOption.moveOverlap}));Object(u["c"])(i,0,t),Object(u["d"])(r,0,a);var o=Object(g["n"])(n,(function(e){return e.layoutOption.hideOverlap}));Object(u["a"])(o)},e.prototype.processLabelsOverall=function(){var e=this;Object(g["k"])(this._chartViewList,(function(t){var a=t.__model,n=t.ignoreLabelLineUpdate,i=a.isAnimationEnabled();t.group.traverse((function(t){if(t.ignore&&!t.forceLabelAnimation)return!0;var r=!n,o=t.getTextContent();!r&&o&&(r=v(o).needsUpdateLabelLine),r&&e._updateLabelLine(t,a),i&&e._animateLabels(t,a)}))}))},e.prototype._updateLabelLine=function(e,t){var a=e.getTextContent(),n=Object(o["a"])(e),i=n.dataIndex;if(a&&null!=i){var r=t.getData(n.dataType),l=r.getItemModel(i),s={},g=r.getItemVisual(i,"style");if(g){var u=r.getVisual("drawType");s.stroke=g[u]}var d=l.getModel("labelLine");Object(c["d"])(e,Object(c["a"])(l),s),Object(c["e"])(e,d)}},e.prototype._animateLabels=function(e,t){var a=e.getTextContent(),n=e.getTextGuideLine();if(a&&(e.forceLabelAnimation||!a.ignore&&!a.invisible&&!e.disableLabelAnimation&&!Object(r["d"])(e))){var i=v(a),l=i.oldLayout,s=Object(o["a"])(e),c=s.dataIndex,u={x:a.x,y:a.y,rotation:a.rotation},h=t.getData(s.dataType);if(l){a.attr(l);var f=e.prevStates;f&&(Object(g["q"])(f,"select")>=0&&a.attr(i.oldLayoutSelect),Object(g["q"])(f,"emphasis")>=0&&a.attr(i.oldLayoutEmphasis)),Object(r["h"])(a,u,t,c)}else if(a.attr(u),!Object(d["e"])(a).valueAnimation){var b=Object(g["M"])(a.style.opacity,1);a.style.opacity=0,Object(r["c"])(a,{style:{opacity:b}},t,c)}if(i.oldLayout=u,a.states.select){var p=i.oldLayoutSelect={};x(p,u,L),x(p,a.states.select,L)}if(a.states.emphasis){var y=i.oldLayoutEmphasis={};x(y,u,L),x(y,a.states.emphasis,L)}Object(d["a"])(a,c,h,t,t)}if(n&&!n.ignore&&!n.invisible){i=m(n),l=i.oldLayout;var O={points:n.shape.points};l?(n.attr({shape:l}),Object(r["h"])(n,{shape:O},t)):(n.setShape(O),n.style.strokePercent=0,Object(r["c"])(n,{style:{strokePercent:1}},t)),i.oldLayout=O}},e}(),M=O;a.d(t,"a",(function(){return j}));var A=Object(n["m"])();function j(e){e.registerUpdateLifecycle("series:beforeupdate",(function(e,t,a){var n=A(t).labelManager;n||(n=A(t).labelManager=new M),n.clearLabels()})),e.registerUpdateLifecycle("series:layoutlabels",(function(e,t,a){var n=A(t).labelManager;a.updatedSeries.forEach((function(e){n.addLabelsOfSeries(t.getViewOfSeriesModel(e))})),n.updateLayoutConfig(t),n.layout(t),n.processLabelsOverall()}))}}}]);