(window["webpackJsonp_datastudio-web"]=window["webpackJsonp_datastudio-web"]||[]).push([["chunk-500c2e2c"],{"0106":function(t,e,n){},"08ef":function(t,e,n){"use strict";n("f1ac")},"53ca2":function(t,e,n){},"5a1d":function(t,e,n){"use strict";n("53ca2")},"7d99":function(t,e,n){"use strict";n.d(e,"y",(function(){return o})),n.d(e,"e",(function(){return i})),n.d(e,"w",(function(){return u})),n.d(e,"m",(function(){return s})),n.d(e,"x",(function(){return c})),n.d(e,"c",(function(){return l})),n.d(e,"t",(function(){return d})),n.d(e,"v",(function(){return f})),n.d(e,"b",(function(){return b})),n.d(e,"h",(function(){return p})),n.d(e,"s",(function(){return m})),n.d(e,"q",(function(){return g})),n.d(e,"a",(function(){return h})),n.d(e,"o",(function(){return v})),n.d(e,"A",(function(){return k})),n.d(e,"g",(function(){return _})),n.d(e,"d",(function(){return y})),n.d(e,"z",(function(){return w})),n.d(e,"p",(function(){return O})),n.d(e,"E",(function(){return D})),n.d(e,"F",(function(){return j})),n.d(e,"G",(function(){return C})),n.d(e,"H",(function(){return S})),n.d(e,"I",(function(){return I})),n.d(e,"l",(function(){return L})),n.d(e,"i",(function(){return A})),n.d(e,"k",(function(){return T})),n.d(e,"B",(function(){return x})),n.d(e,"C",(function(){return P})),n.d(e,"j",(function(){return $})),n.d(e,"f",(function(){return E})),n.d(e,"D",(function(){return N})),n.d(e,"u",(function(){return F})),n.d(e,"r",(function(){return G})),n.d(e,"n",(function(){return R}));var r=n("7258"),a="/metadata";function o(t){return r["b"].get("".concat(a,"/table/search"),{params:t})}function i(t){return r["b"].post("".concat(a,"/role/batchGrantPrivilegeToUser"),t)}function u(t){return r["b"].get("".concat(a,"/history/input"),{params:t})}function s(t){return r["b"].get("".concat(a,"/history/del"),{params:t})}function c(t){return r["b"].get("".concat(a,"/history/table"),{params:t})}function l(t){return r["b"].post("".concat(a,"/table/add"),t,{timeout:6e4})}function d(t){return r["b"].get("".concat(a,"/table/data"),{params:t})}function f(t){return r["b"].get("".concat(a,"/table/dbList"),{params:t})}function b(t){return r["b"].post("".concat(a,"/table/createdb"),t)}function p(t){return r["b"].get("".concat(a,"/table/check"),{params:t})}function m(t){return r["b"].post("".concat(a,"/table/changeDetail"),t)}function g(t){return r["b"].post("".concat(a,"/table/alterColumn"),t,{timeout:6e4})}function h(t){return r["b"].post("".concat(a,"/table/addColumn"),t,{timeout:6e4})}function v(t){return r["b"].post("".concat(a,"/dict/"),t)}function k(t){return r["b"].post("".concat(a,"/table/route"),t)}function _(t){return r["b"].post("".concat(a,"/table/checkCreate"),t)}function y(t){return r["b"].get("".concat(a,"/table/alterOwner"),{params:t})}function w(t){return r["b"].post("".concat(a,"/role/grantPrivilegeToUser"),t)}function O(t){return r["b"].post("".concat(a,"/auth/doAuth"),t)}function D(t){return r["b"].post("".concat(a,"/table/tableOutputInfo"),t)}function j(t){return r["b"].post("".concat(a,"/table/tablePrivilegeInfo"),t)}function C(t){return r["b"].post("".concat(a,"/table/tableProfileInfo"),t)}function S(t){return r["b"].post("".concat(a,"/table/tableStorageInfo"),t)}function I(t){return r["b"].post("".concat(a,"/table/tableSummaryDescInfo"),t)}function L(t){return r["b"].get("".concat(a,"/table/dbList"),{params:t})}function A(t){return r["b"].post("".concat(a,"/table/collect"),t)}function T(t){return r["b"].get("".concat(a,"/table/column"),{params:t})}function x(t){return r["b"].get("".concat(a,"/table/searchOne"),{params:t})}function P(t){return r["b"].post("".concat(a,"/tags/search"),t)}function $(t){return r["b"].get("".concat(a,"/table/collectList"),{params:t})}function E(t){return r["b"].post("".concat(a,"/blood"),t,{timeout:12e4})}function N(t){return r["b"].get("".concat(a,"/table/sensitivityLevel"),{params:t})}function F(t){return r["b"].get("".concat(a,"/table/getdb"),{params:t})}function G(t){return r["b"].post("".concat(a,"/table/updatedb"),t)}function R(t){return r["b"].post("".concat(a,"/table/deletedb"),t)}},"7ea2":function(t,e,n){"use strict";n.d(e,"m",(function(){return o})),n.d(e,"a",(function(){return i})),n.d(e,"t",(function(){return u})),n.d(e,"l",(function(){return s})),n.d(e,"g",(function(){return c})),n.d(e,"o",(function(){return l})),n.d(e,"p",(function(){return d})),n.d(e,"q",(function(){return f})),n.d(e,"r",(function(){return b})),n.d(e,"s",(function(){return p})),n.d(e,"n",(function(){return m})),n.d(e,"b",(function(){return g})),n.d(e,"f",(function(){return h})),n.d(e,"c",(function(){return v})),n.d(e,"d",(function(){return k})),n.d(e,"e",(function(){return _})),n.d(e,"i",(function(){return y})),n.d(e,"k",(function(){return w})),n.d(e,"j",(function(){return O})),n.d(e,"h",(function(){return D}));var r=n("7258"),a="/ds_task/flinkcluster";function o(t){return r["b"].get("".concat(a,"/page?"),{params:t})}function i(t){return r["b"].post("".concat(a,"/add"),t)}function u(t){return r["b"].put("".concat(a,"/update"),t)}function s(t){return r["b"].get("".concat(a,"/get?id=").concat(t))}function c(t){return r["b"].delete("".concat(a,"/delete"),{params:{id:t}})}function l(t){return r["b"].post("/cluster-service/cloud/resource/add",t,{timeout:6e5})}function d(t){return r["b"].delete("/cluster-service/cloud/resource/delete/".concat(t))}function f(t){return r["b"].get("/cluster-service/cloud/resource/getOne",{params:t})}function b(t){return r["b"].get("/cluster-service/cloud/resource/search",{params:t})}function p(t){return r["b"].post("/cluster-service/cloud/resource/update",t,{timeout:6e5})}function m(t){return r["b"].get("/cluster-service/cloud/resource/getRegion",{params:t})}function g(t){return r["b"].post("/cluster-service/cloud/data/add",t,{timeout:6e5})}function h(t){return r["b"].post("/cluster-service/cloud/data/update",t,{timeout:6e5})}function v(t){return r["b"].delete("/cluster-service/cloud/data/delete",{params:t})}function k(t){return r["b"].get("/cluster-service/cloud/data/getOne",{params:t})}function _(t){return r["b"].get("/cluster-service/cloud/data/search",{params:t})}function y(t){return r["b"].get("/cluster-service/cluster/service/roles",{params:t})}function w(t){return r["b"].get("/cluster-service/cluster/vpcs",{params:t})}function O(t){return r["b"].get("/cluster-service/cluster/subnets",{params:t})}function D(t){return r["b"].get("/cluster-service/cluster/security/groups",{params:t})}},"852f":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{staticClass:"ope-dialog",attrs:{title:"申请权限",visible:t.visiable,width:"55%","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisiable=e}}},[Object.keys(t.perData).length?n("el-descriptions",{attrs:{size:"medium",column:3}},[n("el-descriptions-item",{attrs:{label:"申请用户组","label-class-name":"ope-validate"}},[t._v("\n      "+t._s(t.userGroup.name||"-")+"\n    ")]),t._v(" "),n("el-descriptions-item",{attrs:{label:"申请用户组负责人"}},[t._v(t._s(t.viewHeader()))]),t._v(" "),n("el-descriptions-item",{attrs:{label:"存储位置"}},[t._v(t._s(t.regionFormat(t.perData.region)||"-"))]),t._v(" "),n("el-descriptions-item",{attrs:{label:"所属业务"}},[t._v(t._s(t.perData.application||"-"))]),t._v(" "),n("el-descriptions-item",{attrs:{label:"对象类型"}},[t._v(t._s(t.perData.db_name))]),t._v(" "),n("el-descriptions-item",{attrs:{label:"对象名称",span:2}},[t._v(t._s(t.perData.table_name))]),t._v(" "),n("el-descriptions-item",{attrs:{label:"申请权限信息",span:3,"label-class-name":"ope-validate"}},[n("el-checkbox",{attrs:{indeterminate:t.isIndeterminate},on:{change:t.handleCheckAllChange},model:{value:t.checkAll,callback:function(e){t.checkAll=e},expression:"checkAll"}},[t._v("全选")]),t._v(" "),n("el-checkbox-group",{staticClass:"checkbox-group",on:{change:t.handleCheckedCitiesChange},model:{value:t.checkedOpes,callback:function(e){t.checkedOpes=e},expression:"checkedOpes"}},t._l(t.permissions,(function(e){return n("el-checkbox",{key:e,attrs:{label:e}},[t._v(t._s(e))])})),1)],1),t._v(" "),n("el-descriptions-item",{attrs:{label:"申请原因",span:3,"label-class-name":"ope-validate"}},[n("el-input",{staticStyle:{width:"100%"},attrs:{rows:3,type:"textarea",placeholder:"请输入申请原因",maxlength:"50","show-word-limit":""},model:{value:t.reason,callback:function(e){t.reason=e},expression:"reason"}})],1)],1):t._e(),t._v(" "),n("div",{staticClass:"level_info"},[n("div",{staticClass:"title"},[t._v("申请数据表信息:")]),t._v(" "),n("TableInfo",{attrs:{"table-id-list":[t.perData]}})],1),t._v(" "),n("div",{staticClass:"level_info"},[n("div",{staticClass:"title"},[t._v("敏感级别说明:")]),t._v(" "),n("proveTable")],1),t._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:t.cancel}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{type:"primary",loading:t.submitLoading,disabled:t.submitLoading},on:{click:t.ok}},[t._v("确 定")])],1)],1)},a=[],o=n("ec40"),i=n("d620"),u=n("7d99"),s=n("7ea2"),c=n("2f62");function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function d(t){return m(t)||p(t)||b(t)||f()}function f(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function b(t,e){if(t){if("string"===typeof t)return g(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(t,e):void 0}}function p(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function m(t){if(Array.isArray(t))return g(t)}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){k(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function k(t,e,n){return e=_(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _(t){var e=y(t,"string");return"symbol"===l(e)?e:String(e)}function y(t,e){if("object"!==l(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var w=["查询"],O={name:"DataPermission",components:{proveTable:o["a"],TableInfo:i["a"]},props:{visiable:{type:Boolean,required:!0},listIndex:{type:Number,default:0},perData:{type:Object,default:function(){}}},data:function(){return{cycleList:this.$t("data.cycle"),coApplicants:[],ownerList:[],searchValue:"",reason:"",submitLoading:!1,dialogVisiable:this.visiable,regionList:this.$t("data.regionList"),checkAll:!1,checkedOpes:["查询"],permissions:w,isIndeterminate:!0,userName:"",userGroup:{},scope:"",cycle:"5"}},computed:v({},Object(c["c"])(["userInfo","isCloud","currentUserGroup"])),watch:{visiable:function(){this.dialogVisiable=this.visiable,this.dialogVisiable?this.reason="":this.$emit("close",this.listIndex)},dialogVisiable:function(t){this.$emit("update:visiable",t)}},created:function(){this.userName=this.userInfo.userId,this.scope=this.currentUserGroup.uuid,Object.assign(this.userGroup,this.currentUserGroup),this.isCloud&&this.getRegion()},methods:{viewHeader:function(){var t;return(null==(t=this.userGroup.ownerList)?void 0:t.join(","))||"-"},getRegion:function(){var t=this;Object(s["r"])().then((function(e){var n=e.data;t.regionList=n.list.map((function(t){return{label:t.description||t.regionAlias,value:t.regionAlias}}))}))},handleCheckAllChange:function(t){this.checkedOpes=t?w:[],this.isIndeterminate=!1},handleCheckedCitiesChange:function(t){var e=t.length;this.checkAll=e===this.permissions.length,this.isIndeterminate=e>0&&e<this.permissions.length},regionFormat:function(t){var e=this.regionList.find((function(e){return e.value===t}));return e?e.label:"-"},cancel:function(){this.$emit("update:visiable",!1)},ok:function(){var t=this;if(this.checkedOpes.length)if(this.reason)if(this.cycle){var e=this.checkedOpes.includes("查询")?[].concat(d(this.checkedOpes),["描述"]):d(this.checkedOpes),n={reason:this.reason,cycle:this.cycle,coApplicants:this.coApplicants.join(","),userName:this.userName||"",roleInputs:{objectName:["".concat(this.perData.region,".").concat(this.perData.db_name,".").concat(this.perData.table_name,":").concat(this.perData.owner,":").concat(this.perData.id)],operation:e,scope:[this.scope]}};this.submitLoading=!0,Object(u["z"])(n).then((function(e){t.$message({type:"success",message:"申请权限成功"}),t.$emit("update:visiable",!1)})).finally((function(){t.submitLoading=!1}))}else this.$message({type:"warning",message:"请选择周期"});else this.$message({type:"warning",message:"请输入原因"});else this.$message({type:"warning",message:"请选择权限"})}}},D=O,j=(n("9999"),n("2877")),C=Object(j["a"])(D,r,a,!1,null,"60e3ff2b",null);e["a"]=C.exports},9999:function(t,e,n){"use strict";n("0106")},b199:function(t,e,n){"use strict";n.d(e,"y",(function(){return o})),n.d(e,"W",(function(){return i})),n.d(e,"E",(function(){return u})),n.d(e,"p",(function(){return s})),n.d(e,"ab",(function(){return c})),n.d(e,"s",(function(){return l})),n.d(e,"r",(function(){return d})),n.d(e,"t",(function(){return f})),n.d(e,"Q",(function(){return b})),n.d(e,"T",(function(){return p})),n.d(e,"A",(function(){return m})),n.d(e,"O",(function(){return g})),n.d(e,"B",(function(){return h})),n.d(e,"q",(function(){return v})),n.d(e,"e",(function(){return k})),n.d(e,"g",(function(){return _})),n.d(e,"d",(function(){return y})),n.d(e,"ib",(function(){return w})),n.d(e,"n",(function(){return O})),n.d(e,"Y",(function(){return D})),n.d(e,"I",(function(){return j})),n.d(e,"H",(function(){return C})),n.d(e,"c",(function(){return S})),n.d(e,"hb",(function(){return I})),n.d(e,"m",(function(){return L})),n.d(e,"j",(function(){return A})),n.d(e,"f",(function(){return T})),n.d(e,"bb",(function(){return x})),n.d(e,"J",(function(){return P})),n.d(e,"F",(function(){return $})),n.d(e,"h",(function(){return E})),n.d(e,"db",(function(){return N})),n.d(e,"z",(function(){return F})),n.d(e,"R",(function(){return G})),n.d(e,"u",(function(){return R})),n.d(e,"D",(function(){return q})),n.d(e,"P",(function(){return U})),n.d(e,"w",(function(){return V})),n.d(e,"Z",(function(){return B})),n.d(e,"C",(function(){return z})),n.d(e,"eb",(function(){return H})),n.d(e,"a",(function(){return J})),n.d(e,"fb",(function(){return W})),n.d(e,"cb",(function(){return M})),n.d(e,"G",(function(){return K})),n.d(e,"U",(function(){return Q})),n.d(e,"i",(function(){return X})),n.d(e,"k",(function(){return Y})),n.d(e,"K",(function(){return Z})),n.d(e,"L",(function(){return tt})),n.d(e,"N",(function(){return et})),n.d(e,"M",(function(){return nt})),n.d(e,"b",(function(){return rt})),n.d(e,"l",(function(){return at})),n.d(e,"o",(function(){return ot})),n.d(e,"S",(function(){return it})),n.d(e,"gb",(function(){return ut})),n.d(e,"X",(function(){return st})),n.d(e,"v",(function(){return ct})),n.d(e,"V",(function(){return lt}));var r=n("7258"),a="/ds_task/task";function o(t){return r["b"].post("/ds_task/metadata/search",t,{timeout:12e4})}function i(){return r["b"].get("/ds_task/sysdict/getTemplateList")}function u(t){return r["b"].get("/ds_task/dict/list",{params:t})}function s(t){return r["b"].get("/ds_task/artifact/list",{params:t})}function c(t){return r["b"].get("/ds_task/artifactversion/list",{params:t})}function l(t){return r["b"].get("/ds_task/flinkcluster/list",{params:t})}function d(t){return r["b"].get("/ds_task/flinkcluster/auto",{params:t})}function f(t){return r["b"].get("/ds_task/flinkcluster/noauto",{params:t})}function b(t){return r["b"].get("".concat(a,"/get"),{params:t})}function p(t){return r["b"].get("".concat(a,"/page"),{params:t,timeout:6e4})}function m(t){return r["b"].post("/ds_task/metadata/getddl",t)}function g(t){return r["b"].get("".concat(a,"/getInsertSql"),{params:t,timeout:6e5})}function h(t){return r["b"].post("/ds_task/metadata/getdispalyddl",t)}function v(t){return r["b"].get("".concat(a,"/getChildDependencies"),{params:{id:t}})}function k(t){return r["b"].get("".concat(a,"/backfill"),{params:t})}function _(t){return r["b"].put("".concat(a,"/onlineAndOffline"),null,{params:t})}function y(t){return r["b"].post("".concat(a,"/add"),t)}function w(t){return r["b"].put("".concat(a,"/update"),t)}function O(t){return r["b"].delete("".concat(a,"/new/delete"),{params:t})}function D(t){return r["b"].get("/ds_task/user/list",{params:{name:t}})}function j(t){return r["b"].get("/ds_task/label/list",{params:{name:t}})}function C(t){return r["b"].get("/ds_task/label/get",{params:{id:t}})}function S(t){return r["b"].post("/ds_task/label/add",t)}function I(t){return r["b"].put("/ds_task/label/update",t)}function L(t){return r["b"].delete("/ds_task/label/delete",{params:{id:t}})}function A(t){return r["b"].patch("/ds_task/collect/add",null,{params:t})}function T(t){return r["b"].get("/ds_task/collect/cancel",{params:t})}function x(t){return r["b"].get("/ds_task/collect/my",{params:t})}function P(t){return r["b"].get("/ds_task/task/listforlabel",{params:{name:t}})}function $(t){return r["b"].get("/ds_task/task/iam",{params:t})}function E(t){return r["b"].post("/ds_task/task/check",t,{timeout:18e4})}function N(t){return r["b"].get("/ds_task/task/name/search",{params:{name:t}})}function F(t){return r["b"].get("/ds_task/task/backfillDateDetail",{params:t})}function G(t){return r["b"].get("/ds_task/task/last7",{params:t})}function R(t){return r["b"].get("/ds_task/user/getEffectiveCostList",{params:{name:t}})}function q(t){return r["b"].get("/ds_task/task/getGitSqlFile",{params:t})}function U(t){return r["b"].post("/ds_task/task/sqlTbls",t,{headers:{"Content-Type":"multipart/form-data"}})}function V(t){return r["b"].post("/ds_task/task/getCrontab",t)}function B(t){return r["b"].get("/ds_task/taskversion/pages",{params:t})}function z(){return r["b"].get("/ds_task/auditlog/type?module=task")}function H(t){return r["b"].get("/ds_task/taskversion/verionSwitch",{params:t})}function J(t){return r["b"].post("/ds_task/task/addAndStart",t)}function W(t){return r["b"].post("/ds_task/task/updateAndStart",t)}function M(t){return r["b"].post("/ds_task/task/date/preview",t)}function K(t){return r["b"].post("/ds_task/task/mergeSmallFiles/jars",t)}function Q(t){return r["b"].post("/ds_task/task/getTasks",t)}function X(t){return r["b"].post("/ds_task/task/checkPath",t,{headers:{"Content-Type":"multipart/form-data"}})}function Y(t){return r["b"].post("/ds_task/task/fastBackfill?taskId="+t.taskId,t)}function Z(t){return r["b"].get("/ds_task/task/renderContent",{params:t})}function tt(t){return r["b"].post("/ds_task/metadata/preview",t)}function et(t){return r["b"].get("/ds_task/actor/sources/page",{params:t})}function nt(t){return r["b"].get("/ds_task/taskfolder/listFolder",{params:t})}function rt(t){return r["b"].post("/ds_task/taskfolder/saveFolder",t)}function at(t){return r["b"].get("/ds_task/taskfolder/deleteFolder",{params:t})}function ot(t){return r["b"].post("/ds_task/taskfolder/editFolder",t)}function it(t){return r["b"].get("/ds_task/taskfolder/listTask",{params:t})}function ut(t){return r["b"].post("/ds_task/taskfolder/updateTask",t)}function st(t){return r["b"].get("/ds_task/wechatAlert/listById?id=".concat(t))}function ct(t){return r["b"].post("/pipeline/cron/get",t)}function lt(t){return r["b"].get("/ds_task/task/templateRendering",{params:t})}},d620:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"table_info",attrs:{data:t.tableData,border:""}},[n("el-table-column",{attrs:{prop:"dbName",label:"库名",width:"150"}}),t._v(" "),n("el-table-column",{attrs:{prop:"tableName",label:"表名",width:"150"}}),t._v(" "),n("el-table-column",{attrs:{prop:"level",label:"表敏感级别",width:"100"}}),t._v(" "),n("el-table-column",{attrs:{prop:"prove",label:"敏感字段",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-tooltip",{attrs:{content:e.row.prove||"-",disabled:t.isTipDisabled}},[n("span",{class:["ellipsis","block",e.row.prove?"red_text":""],on:{mouseenter:t.isShowTooltip}},[t._v(t._s(e.row.prove||"-"))])])]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"type",label:"分类"}}),t._v(" "),n("el-table-column",{attrs:{prop:"commit",label:"表描述"}}),t._v(" "),n("el-table-column",{attrs:{prop:"owner",label:"数据库负责人",width:"150"}})],1)},a=[],o=n("7d99"),i={name:"TableInfo",props:{tableIdList:{type:Array,default:function(){return[]}}},data:function(){return{tableData:[],loading:!1,isTipDisabled:!1}},watch:{tableIdList:{handler:function(t){var e=this;t.forEach((function(t,n){e.tableData.some((function(e){return e.id===t.id}))||e.getColumn(t,n)})),this.tableData.forEach((function(n,r){t.map((function(t){return t.id})).includes(n.id)||e.tableData.splice(r,1)})),null!=t&&t.length||(this.tableData=[])},immediate:!0}},methods:{isShowTooltip:function(t){var e=t.target.clientWidth,n=t.target.scrollWidth;this.isTipDisabled=!(n>e)},getColumn:function(t,e){var n=this;if(t)return this.loading=!0,Object(o["k"])({id:t.id}).then((function(r){var a=r.data.columnsList||[],o={id:t.id,dbName:t.db_name,tableName:t.table_name,type:"-",commit:t.description||"-",owner:t.owner||"-",prove:a.map((function(t){return t.name})).join(","),level:t.tableLevel?t.tableLevel:"-"};n.$set(n.tableData,e,o)})).finally((function(){n.loading=!1}))}}},u=i,s=(n("5a1d"),n("2877")),c=Object(s["a"])(u,r,a,!1,null,"3c88a982",null);e["a"]=c.exports},ec40:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"prove_table",attrs:{data:t.tableData,border:""}},[n("el-table-column",{attrs:{prop:"level",label:"级别",width:"70"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{class:[e.row.isRed?"red_text":""]},[t._v(t._s(e.row.dataLevel||"-"))])]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"factor",label:"定级要素",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{class:[e.row.isRed?"red_text":""]},[t._v(t._s(e.row.definingElements||"-"))])]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"commit",label:"常用字段"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{class:[e.row.isRed?"red_text":""]},[t._v(t._s(e.row.commonFields||"-"))])]}}])})],1)},a=[],o=n("7d99"),i={name:"ProveTable",data:function(){return{tableData:[],loading:!1}},created:function(){this.sensitivityLevel()},methods:{sensitivityLevel:function(){var t=this;this.loading=!0,Object(o["D"])().then((function(e){t.tableData=e.data||[],t.tableData.forEach((function(e){["3","4"].some((function(t){return e.dataLevel.includes(t)}))&&t.$set(e,"isRed",!0)}))})).finally((function(){t.loading=!1}))}}},u=i,s=(n("08ef"),n("2877")),c=Object(s["a"])(u,r,a,!1,null,"9490431a",null);e["a"]=c.exports},f1ac:function(t,e,n){}}]);