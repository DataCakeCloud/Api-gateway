(window["webpackJsonp_datastudio-web"]=window["webpackJsonp_datastudio-web"]||[]).push([["chunk-9d67f2a2"],{"0717":function(e,t,i){},"077f":function(e,t,i){},"19c7":function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-card",{class:["left-tree","transition",e.isOpen?"":"close"]},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e.isOpen?i("span",[e._v("成本中心")]):e._e(),e._v(" "),i("span",{class:[e.isOpen?"el-icon-s-unfold":"el-icon-s-fold","close-btn","transition"],on:{click:e.handleOpen}})]),e._v(" "),i("ul",{class:["list",{"no-text":!e.isOpen}]},[e._l(e.list,(function(t,n){return[t.permission?i("li",{key:n,class:["item",{active:e.$route.name===t.name}],on:{click:function(i){return e.handleLink(t)}}},[i("svg-icon",{attrs:{"icon-class":t.icon}}),e._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:e.isOpen&&t.show,expression:"isOpen && item.show"}],staticClass:"text"},[e._v(e._s(t.text))])],1):e._e()]}))],2)])},r=[],a={name:"LeftTree",data:function(){return{isOpen:null===window.sessionStorage.getItem("costLeftTreeOpen")||JSON.parse(window.sessionStorage.getItem("costLeftTreeOpen")),list:[{name:"NewCostCenter",text:"首页",icon:"cost",show:!0,permission:!0},{name:"NewCostAnalysis",text:"成本分析",icon:"analysis",show:!0,permission:!0},{name:"NewCostBill",text:"账单",icon:"bill",show:!0,permission:!0},{name:"NewCostReport",text:"报告管理",icon:"report",show:!0,permission:!0},{name:"group",text:"业务架构配置",icon:"group",show:!0,permission:!0}]}},created:function(){},methods:{handleOpen:function(){var e=this;if(this.isOpen=!this.isOpen,this.isOpen)var t=setTimeout((function(i){e.list.forEach((function(e){e.show=!0})),clearTimeout(t)}),150);else this.list.forEach((function(e){e.show=!1}));window.sessionStorage.setItem("costLeftTreeOpen",this.isOpen)},handleLink:function(e){this.$router.push({name:e.name})}}},s=a,l=(i("669f"),i("2877")),o=Object(l["a"])(s,n,r,!1,null,"077742c5",null);t["a"]=o.exports},2743:function(e,t,i){"use strict";i("0717")},"3af0":function(e,t,i){"use strict";i("bd61")},"405f":function(e,t,i){"use strict";i.d(t,"b",(function(){return r})),i.d(t,"a",(function(){return a})),i.d(t,"c",(function(){return s})),i.d(t,"g",(function(){return l})),i.d(t,"h",(function(){return o})),i.d(t,"f",(function(){return c})),i.d(t,"d",(function(){return u})),i.d(t,"e",(function(){return f}));var n=i("7258");function r(e){return n["b"].post("/cost/home/request",e)}function a(e){return n["b"].post("/cost/listDictionary",e)}function s(e){return n["b"].post("/cost/report/del",e)}function l(e){return n["b"].post("/cost/report/save",e)}function o(e){return n["b"].post("/cost/report/saveAs",e)}function c(e){return n["b"].post("/cost/report/list",e)}function u(e){return n["b"].post("/cost/report/getById",e)}function f(e){return n["b"].post("/cost/report/history",e)}},4142:function(e,t,i){"use strict";i("5594")},5594:function(e,t,i){},"669f":function(e,t,i){"use strict";i("7afd")},7244:function(e,t,i){},"7afd":function(e,t,i){},"89f2":function(e,t,i){},"8b54":function(e,t,i){"use strict";i("89f2")},"8e3d":function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"box"},[i("el-form",{attrs:{inline:!0,model:e.params,"label-position":"top","label-width":"80px"}},[e.isShow?[i("el-form-item",{attrs:{prop:"date"}},[i("el-date-picker",{ref:"datePicker",staticClass:"calendar",staticStyle:{width:"230px"},attrs:{"start-placeholder":"请选择开始日期","range-separator":"至","end-placeholder":"请选择结束日期","picker-options":e.pickerOptions,type:"daterange","unlink-panels":""},on:{change:e.handleChange},model:{value:e.dates,callback:function(t){e.dates=t},expression:"dates"}})],1),e._v(" "),i("el-form-item",{attrs:{prop:"dtType"}},[i("el-select",{staticStyle:{width:"80px"},attrs:{clearable:"",placeholder:"选择时间模式"},on:{change:e.handleChange},model:{value:e.params.dtType,callback:function(t){e.$set(e.params,"dtType",t)},expression:"params.dtType"}},e._l(e.dateTypeList,(function(e,t){return i("el-option",{key:t,attrs:{label:e.name,value:e.value}})})),1)],1),e._v(" "),i("el-form-item",{attrs:{prop:"chartType"}},[i("el-select",{staticStyle:{width:"100px"},attrs:{clearable:"",placeholder:"选择图表模式"},on:{change:e.handleChange},model:{value:e.params.chartType,callback:function(t){e.$set(e.params,"chartType",t)},expression:"params.chartType"}},e._l(e.chartTypeList,(function(e,t){return i("el-option",{key:t,attrs:{label:e.name,value:e.value}})})),1)],1),e._v(" "),i("el-form-item",{attrs:{prop:"relateCost"}},[i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"top"}},[i("template",{slot:"content"},[i("p",[e._v("· 间接成本：考虑其他数据开发任务分摊过来的成本，即考虑成本分摊，以DE平台成本归属配置为标准")]),e._v(" "),i("p",[e._v("· 直接成本：任务开发产生的成本，不考虑成本归属。即不考虑分摊")])])],2)],1)]:e._e(),e._v(" "),i("el-form-item",{attrs:{prop:"roleView"}},[!e.isCloud||e.userInfo.isSupperAdmin?i("el-radio-group",{attrs:{size:"small"},on:{change:e.handleChange},model:{value:e.params.roleView,callback:function(t){e.$set(e.params,"roleView",t)},expression:"params.roleView"}},[e._l(e.angleList,(function(t,n){return[i("el-radio-button",{key:n,attrs:{label:t.value}},[e._v(e._s(t.name))])]}))],2):e._e()],1),e._v(" "),1===e.params.roleView?i("el-form-item",{attrs:{prop:"tenantName"}},[i("el-select",{staticStyle:{width:"110px"},attrs:{clearable:"",placeholder:"所有租户"},on:{change:e.handleChange},model:{value:e.params.tenantName,callback:function(t){e.$set(e.params,"tenantName",t)},expression:"params.tenantName"}},[e._l(e.tenantList,(function(e,t){return[i("el-option",{key:t,attrs:{label:e.name,value:e.value}})]}))],2)],1):e._e(),e._v(" "),e.isShow?e._e():[i("el-form-item",{attrs:{prop:"homeDayType"}},[i("el-radio-group",{attrs:{size:"small"},on:{change:e.handleChange},model:{value:e.params.homeDayType,callback:function(t){e.$set(e.params,"homeDayType",t)},expression:"params.homeDayType"}},[e._l(e.homeDayTypeList,(function(t,n){return[i("el-radio-button",{key:n,attrs:{label:t.value}},[e._v(e._s(t.name))])]}))],2)],1)]],2),e._v(" "),i("div",{staticClass:"t-tip"},[e._v("温馨提示：每天15:00产出T-2数据。")])],1)},r=[],a=i("ed08"),s=i("405f"),l=i("2f62");function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function c(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function u(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?c(Object(i),!0).forEach((function(t){f(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function f(e,t,i){return t=d(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function d(e){var t=h(e,"string");return"symbol"===o(t)?t:String(t)}function h(e,t){if("object"!==o(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var p=1,m={name:"CustomForm",props:{isShow:{type:Boolean,default:!1},filters:{type:Object,default:function(){}},pickerType:{type:Number,default:0}},data:function(){return{dateTypeList:this.$t("cost.dateTypeList"),angleList:[{name:"平台",value:0},{name:"租户",value:1}],chartTypeList:[{name:" 柱状图",value:0},{name:"堆叠图",value:1},{name:"折线图",value:2}],isCostList:[{name:"间接成本",value:0},{name:"直接成本",value:1}],homeDayTypeList:this.$t("cost.homeDayTypeList"),tenantList:this.$t("cost.lesseeList"),params:{reportType:6,startDate:"",endDate:"",dtType:0,chartType:0,roleView:0,relateCost:1,tenantName:"",homeDayType:(new Date).getDate()<5?3:2},shortcuts:this.$t("cost.shortcuts"),pickerOptions:{shortcuts:[{text:"最近一个月",onClick:function(e){var t=new Date,i=new Date;i.setTime(i.getTime()-2592e6),e.$emit("pick",[i,t]),p=2}},{text:"最近三个月",onClick:function(e){var t=new Date,i=new Date;i.setTime(i.getTime()-7776e6),e.$emit("pick",[i,t]),p=3}}]}}},computed:u(u({},Object(l["c"])(["userInfo","isCloud"])),{},{dates:{get:function(){var e,t=this;if(this.pickerType)return e=this.shortcuts.find((function(e){return e.id===t.pickerType})),1!==e.id?e.time():[this.params.startDate,this.params.endDate];var i=this.shortcuts[0].time();return i},set:function(e){this.shortcuts[0].time=function(){return e}}}}),watch:{filters:{handler:function(e){Object.keys(e).length&&(this.params=e,this.dates=[e.startDate,e.endDate])},deep:!0},dates:{handler:function(e){this.params.startDate=Object(a["parseDate"])(new Date(e[0])),this.params.endDate=Object(a["parseDate"])(new Date(e[1]))},immediate:!0}},created:function(){this.handleChange(),this.getTenantList()},methods:{getTenantList:function(){var e=this,t={requestType:2,name:""};Object(s["a"])(t).then((function(t){e.tenantList=e.tenantList.concat(t.data)}))},handleChangeTimeType:function(){this.handleChange()},handleChangeChartType:function(){this.handleChange()},handleChangeTime:function(){this.handleChange()},handleChange:function(){var e=this.shortcuts.find((function(e){return e.id===p}));this.$emit("updateParams",this.params,e)}}},v=m,y=(i("8b54"),i("2877")),b=Object(y["a"])(v,n,r,!1,null,"b3306f38",null);t["a"]=b.exports},aca2:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-card",{staticClass:"box-card-container"},[i("div",{staticClass:"box-content"},[i("LeftTree"),e._v(" "),i("div",{staticClass:"box-r"},[i("div",{staticClass:"r-l"},[i("el-card",{ref:"chartRef",staticClass:"r-l-t dashboard-card chart-card-box"},[i("div",{attrs:{slot:"header"},slot:"header"},[i("el-button",{attrs:{type:"primary"},on:{click:e.handleCreate}},[e._v("新建报告")]),e._v(" "),i("el-popover",{attrs:{placement:"top",width:"240"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[i("el-input",{attrs:{placeholder:"请输入报告名称"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),e._v(" "),i("div",{staticStyle:{"text-align":"right",margin:"10px 0 0 0"}},[i("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.visible=!1}}},[e._v("取消")]),e._v(" "),i("el-button",{attrs:{disabled:!e.name.length||e.saveLoading,loading:e.saveLoading,type:"primary",size:"mini"},on:{click:e.handleSaveConfirm}},[e._v("确定")])],1),e._v(" "),i("el-button",{attrs:{slot:"reference",type:"primary"},slot:"reference"},[e._v("保存")])],1),e._v(" "),i("el-popover",{attrs:{placement:"top",width:"240"},model:{value:e.saveAsvisible,callback:function(t){e.saveAsvisible=t},expression:"saveAsvisible"}},[i("el-input",{attrs:{placeholder:"请输入报告名称"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),e._v(" "),i("div",{staticStyle:{"text-align":"right",margin:"10px 0 0 0"}},[i("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.saveAsvisible=!1}}},[e._v("取消")]),e._v(" "),i("el-button",{attrs:{disabled:!e.name.length||e.saveAsLoading,loading:e.saveAsLoading,type:"primary",size:"mini"},on:{click:e.handleSaveAsConfirm}},[e._v("确定")])],1),e._v(" "),i("el-button",{attrs:{slot:"reference",type:"primary"},slot:"reference"},[e._v("另存为")])],1)],1),e._v(" "),i("CustomForm",{attrs:{"is-show":!0,filters:e.topParams},on:{updateParams:e.updateParams}}),e._v(" "),i("FilterList",{attrs:{params:e.params,"query-group":e.queryGroup},on:{updateFilter:e.updateFilter}}),e._v(" "),i("el-divider"),e._v(" "),i("Chart",{attrs:{params:e.params,list:e.list,loading:e.loading}})],1),e._v(" "),i("Table",{attrs:{params:e.params,list:e.list,"table-height":e.tableHeight,loading:e.loading},on:{updateHeight:e.updateHeight,handleSizeChange:e.handleSizeChange,handleCurrentChange:e.handleCurrentChange}})],1),e._v(" "),i("div",{staticClass:"r-r"},[i("SideFilter",{attrs:{params:e.params,filters:e.sideFilter},on:{updateFilter:e.updateSideFilter,handleQuery:e.getChartList}})],1)])],1)])},r=[],a=i("19c7"),s=i("8e3d"),l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"filter-list"},[i("span",[e._v("分组维度：")]),e._v(" "),i("div",{staticClass:"filter-content"},[e._l(e.filterList,(function(t,n){return[t.isCheck?i("a",{key:n,class:{active:t.active},attrs:{href:"javascript:;"},on:{click:function(i){return e.handleClick(t,n)}}},[e._v(e._s(t.name))]):e._e()]}))],2)])},o=[],c=i("2f62");function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function f(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function d(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?f(Object(i),!0).forEach((function(t){h(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):f(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function h(e,t,i){return t=p(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function p(e){var t=m(e,"string");return"symbol"===u(t)?t:String(t)}function m(e,t){if("object"!==u(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var v={name:"",props:{params:{type:Object,default:function(){}},queryGroup:Number},data:function(){var e=JSON.parse(JSON.stringify(this.$t("cost.filterList")));return{list:e,item:{}}},computed:d(d({},Object(c["c"])(["isCloud","userInfo"])),{},{filterList:function(){var e=this;if(!Object.keys(this.params).length)return[];var t=this.list.map((function(t){return d(d({},t),{},{isCheck:!e.isCloud||e.userInfo.isSupperAdmin||1===t.isTenant})}));switch(this.params.roleView){case 1:t=t.filter((function(t){return t.type!==e.params.roleView}));break}return t=t.map((function(t){var i=d(d({},t),{},{active:e.queryGroup===t.value});return i})),t}}),methods:{handleClick:function(e,t){e.active?this.list.forEach((function(e){e.active=!1})):(this.list.forEach((function(e){e.active=!1})),this.list[t].active=!0,this.item=e),this.handleChange()},handleChange:function(){this.$emit("updateFilter",this.item)}}},y=v,b=(i("3af0"),i("2877")),g=Object(b["a"])(y,l,o,!1,null,"04517617",null),C=g.exports,_=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"chart"},[e.list.length||e.loading?e._e():i("el-empty",{attrs:{description:"无成本变化数据","image-size":120}}),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.list.length&&!e.loading,expression:"list.length && !loading"}],staticClass:"view",attrs:{id:"costAnalysisChart"}})],1)},w=[],O=i("ed08"),k=i("22b4"),x=i("1be7"),S=i("9394"),j=i("2da7"),F=i("4b2a"),T=i("ff32"),L=i("3620"),P=i("4cb5"),D=i("c55a"),N=i("f95e");k["a"]([S["a"],j["a"],F["a"],T["a"],L["a"],P["a"],N["a"],D["a"]]);var $={name:"CostAnalysisChart",props:{list:{type:Array,default:function(){return[]}},params:{type:Object,default:function(){}},loading:Boolean},data:function(){return{myChart:null,barOption:{tooltip:{trigger:"axis",confine:!0,axisPointer:{type:"shadow"},formatter:function(e){var t=e.map((function(e){var t={marker:e.marker,seriesName:e.seriesName,name:e.name,value:e.value};return t})).sort((function(e,t){return t.value-e.value})),i="";return t.forEach((function(e){i+='\n                <div style="display: flex; justify-content: space-between;">\n                  <span style="margin-right: 20px;">'.concat(e.marker).concat(e.seriesName," ").concat(e.name,"</span> <span>$ ").concat(e.value,"</span>\n                </div>\n              ")})),i}},grid:{left:"3%",right:"5%",bottom:"3%",top:"2%",containLabel:!0},xAxis:[{type:"category",data:[]}],yAxis:[{type:"value",splitLine:{show:!1}}],series:[]},option:{title:{left:"center",text:""},tooltip:{trigger:"axis",confine:!0,formatter:function(e){var t=e.map((function(e){var t={marker:e.marker,name:e.name,seriesName:e.seriesName,value:e.value};return t})).sort((function(e,t){return t.value-e.value})),i="";return t.forEach((function(e){i+='\n                <div style="display: flex; justify-content: space-between;">\n                  <span style="margin-right: 20px;">'.concat(e.marker).concat(e.seriesName," ").concat(e.name,"</span> <span>$ ").concat(e.value,"</span>\n                </div>\n              ")})),i}},color:[],grid:{left:"1%",bottom:"3%",right:"5%",top:"2%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:[]},yAxis:{type:"value",splitLine:{show:!1},max:function(e){return e.max}},series:[]}}},watch:{list:function(e){if(e.length){if(!this.myChart){var t=document.getElementById("costAnalysisChart");this.myChart=x["b"](t)}this.render(e)}}},methods:{render:function(e){var t=JSON.parse(JSON.stringify(e));t.length>1&&t.shift();var i=t.map((function(e){return Object(O["randomColor"])()})),n=t.map((function(e,t){var n={name:e.key,type:"line",symbol:"none",lineStyle:{color:i[t]},data:e.objData.map((function(e){return e.value}))};return n})),r=t[0].objData.map((function(e){var t=e.dt.substr(5);return t})),a=t.map((function(e,t){var n={name:e.key,type:"bar",emphasis:{focus:"series"},itemStyle:{color:i[t]},data:e.objData.map((function(e){return e.value}))};return n})),s=t.map((function(e,t){var i={name:e.key,type:"bar",stack:"Ad",emphasis:{focus:"series"},data:e.objData.map((function(e){return e.value}))};return i}));0===this.params.chartType?(this.barOption.xAxis[0].data=r,this.barOption.series=a,this.barOption&&this.myChart.setOption(this.barOption,!0)):1===this.params.chartType?(this.barOption.xAxis[0].data=r,this.barOption.series=s,this.barOption&&this.myChart.setOption(this.barOption,!0)):(this.option.color=i,this.option.xAxis.data=r,this.option.series=n,this.option&&this.myChart.setOption(this.option,!0)),Object(O["chartResizeListen"])(this,this.myChart,"costAnalysisChart")}}},E=$,A=(i("e2ec"),Object(b["a"])(E,_,w,!1,null,"5562b566",null)),R=A.exports,I=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-card",{staticClass:"r-r-card dashboard-card"},[i("div",{attrs:{slot:"header"},slot:"header"},[i("span",[e._v("筛选")]),e._v(" "),i("el-button",{staticClass:"search-btn",attrs:{size:"mini",type:"primary"},on:{click:e.handleQuery}},[e._v("查询")]),e._v(" "),i("el-button",{staticClass:"clear-btn",attrs:{size:"mini",type:"primary"},on:{click:e.handleClear}},[e._v("全部清除")])],1),e._v(" "),i("div",{staticClass:"list"},[i("el-collapse",{on:{change:e.handleCollapse},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[i("el-collapse-item",{attrs:{name:"1"}},[i("template",{slot:"title"},[e._v("业务参数")]),e._v(" "),e._l(e.filterList,(function(t,n){return[1===t.dimensionality&&t.isCheck?i("div",{key:n,ref:t.field+"_item",refInFor:!0,staticClass:"item",class:{active:t.active},on:{click:function(i){return e.handleClick(t,n)}}},[i("div",{staticClass:"item-text"},[i("span",{staticClass:"name"},[e._v(e._s(t.name))]),e._v(" "),t.shortName?i("span",{staticClass:"s-name"},[e._v("（"+e._s(t.shortName)+"）")]):e._e()]),e._v(" "),e.filterField[t.field]&&e.filterField[t.field].length?i("div",{staticClass:"filter-result"},[e._l(e.filterField[t.field],(function(r,a){return[i("span",{key:n+"-"+a,staticClass:"filter-item"},[i("span",{staticClass:"text cell-ellipsis"},[e._v(e._s(r.name))]),e._v(" "),i("i",{staticClass:"el-icon-delete",on:{click:function(i){return i.stopPropagation(),e.handleDeleteFilter(r,t,n)}}})])]}))],2):e._e(),e._v(" "),i("el-tooltip",{directives:[{name:"show",rawName:"v-show",value:e.filterField[t.field]&&e.filterField[t.field].length,expression:"filterField[item.field] && filterField[item.field].length"}],attrs:{placement:"top"}},[i("div",{attrs:{slot:"content"},slot:"content"},[e._l(e.filterField[t.field],(function(r,a){return[i("div",{key:n+"-"+a+"-subIndex",staticClass:"result-tag-list"},[i("span",{key:n+"-"+a},[e._v(e._s(r.name)+" "),i("i",{staticClass:"el-icon-delete",on:{click:function(i){return i.stopPropagation(),e.handleDeleteFilter(r,t,n)}}})])])]}))],2),e._v(" "),i("span",{staticClass:"result-tag"},[e._v(e._s(e.filterField[t.field]&&e.filterField[t.field].length))])])],1):e._e()]}))],2),e._v(" "),i("el-collapse-item",{attrs:{name:"2"}},[i("template",{slot:"title"},[e._v("资源参数")]),e._v(" "),e._l(e.filterList,(function(t,n){return[2===t.dimensionality&&t.isCheck?i("div",{key:n,ref:t.field+"_item",refInFor:!0,staticClass:"item",class:{active:t.active},on:{click:function(i){return e.handleClick(t,n)}}},[i("div",{staticClass:"item-text"},[i("span",{staticClass:"name"},[e._v(e._s(t.name))]),e._v(" "),t.shortName?i("span",{staticClass:"s-name"},[e._v("（"+e._s(t.shortName)+"）")]):e._e()]),e._v(" "),e.filterField[t.field]&&e.filterField[t.field].length?i("div",{staticClass:"filter-result"},[e._l(e.filterField[t.field],(function(r,a){return[i("span",{key:n+"-"+a,staticClass:"filter-item"},[i("span",{staticClass:"text cell-ellipsis"},[e._v(e._s(r.name))]),e._v(" "),i("i",{staticClass:"el-icon-delete",on:{click:function(i){return i.stopPropagation(),e.handleDeleteFilter(r,t,n)}}})])]}))],2):e._e(),e._v(" "),i("el-tooltip",{directives:[{name:"show",rawName:"v-show",value:e.filterField[t.field]&&e.filterField[t.field].length,expression:"filterField[item.field] && filterField[item.field].length"}],attrs:{placement:"top"}},[i("div",{attrs:{slot:"content"},slot:"content"},[e._l(e.filterField[t.field],(function(r,a){return[i("div",{key:n+"-"+a+"-subIndex",staticClass:"result-tag-list"},[i("span",{key:n+"-"+a},[e._v(e._s(r.name)+" "),i("i",{staticClass:"el-icon-delete",on:{click:function(i){return i.stopPropagation(),e.handleDeleteFilter(r,t,n)}}})])])]}))],2),e._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:e.filterField[t.field]&&e.filterField[t.field].length,expression:"filterField[item.field] && filterField[item.field].length"}],staticClass:"result-tag"},[e._v(e._s(e.filterField[t.field]&&e.filterField[t.field].length))])])],1):e._e()]}))],2)],1)],1),e._v(" "),i("div",{ref:"treeWrapper",staticClass:"tree-wrapper transition",class:{show:e.treeShow},style:e.filterTreeStyle},[i("el-dropdown",{staticClass:"drop-down-icon",attrs:{tabindex:e.tabindex},on:{command:e.handleCommand}},[i("span",{staticClass:"el-dropdown-link"},[e._v(" "+e._s(e.dropDownText)+" "),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e._l(e.dropdownList,(function(t,n){return[i("el-dropdown-item",{key:n,attrs:{disabled:e.dropDownText===t.value,command:t.value}},[e._v(e._s(t.name))])]}))],2)],1),e._v(" "),i("el-divider"),e._v(" "),i("div",{staticClass:"filter-result"},[e._l(e.filterResultList,(function(t,n){return[i("span",{key:n,staticClass:"filter-item"},[i("span",{staticClass:"text cell-ellipsis"},[e._v(e._s(t.name))]),e._v(" "),i("i",{staticClass:"el-icon-delete",on:{click:function(i){return e.handleDelete(t)}}})])]}))],2),e._v(" "),i("el-input",{staticClass:"filter-input",attrs:{placeholder:"搜索维度","suffix-icon":"el-icon-search"},model:{value:e.filterValue,callback:function(t){e.filterValue=t},expression:"filterValue"}}),e._v(" "),i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.treeLoading,expression:"treeLoading"}],staticClass:"tree-list",attrs:{"element-loading-text":"树加载中...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.15)"}},[i("el-tree",{ref:"tree",attrs:{"node-key":"id",indent:8,"show-checkbox":"","check-strictly":!0,data:e.trees,props:e.defaultProps,"expand-on-click-node":e.expanOnType,"filter-node-method":e.filterNode,"default-checked-keys":e.defaultCheckedKeys,"default-expanded-keys":e.defaultExpandedKeys,"highlight-current":""},on:{"node-click":e.handleTreeNodeClick,check:e.handleTreeCheck},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.node;return i("span",{staticClass:"custom-tree-node"},[i("span",{staticClass:"tree-label cell-ellipsis"},[e._v(e._s(n.label))])])}}])})],1),e._v(" "),i("el-divider"),e._v(" "),i("div",{staticClass:"tips"},[e._v("共有 "+e._s(e.trees.length)+" 个结果，显示 "+e._s(e.filterResultList.length)+" 个")]),e._v(" "),i("el-divider"),e._v(" "),i("div",{staticClass:"btns"},[i("el-button",{on:{click:e.handleSearch}},[e._v("确认")])],1)],1)])},q=[],J=i("405f");function H(e){return H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H(e)}function G(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function z(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?G(Object(i),!0).forEach((function(t){K(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):G(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function K(e,t,i){return t=V(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function V(e){var t=B(e,"string");return"symbol"===H(t)?t:String(t)}function B(e,t){if("object"!==H(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!==H(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Q=document.documentClientHeight||document.body.clientHeight,W=Q/2.5,M={name:"SideFilter",props:{params:{type:Object,default:function(){}},filters:{type:Object,default:function(){}}},data:function(){var e=JSON.parse(JSON.stringify(this.$t("cost.filterList")));return{activeName:["1","2"],list:e,currentFilter:"",specialFilterList:["tasks","buckets","searchIds"],filterResultList:[],filterTreeStyle:{},catchTress:{},treeShow:!1,treeLoading:!1,expanOnType:!1,trees:[],getJobs:null,defaultCheckedKeys:[],defaultExpandedKeys:[],defaultProps:{children:"children",label:"label"},tabindex:2,dropDownText:"仅包含",dropdownList:[{name:"仅包含",value:"include"},{name:"仅排除",value:"exclude"},{name:"清除筛选条件",value:"clear"}],filterValue:"",clientHeight:document.documentClientHeight||document.body.clientHeight,clientWidth:document.documentClientWidth||document.body.clientWidth.toExponential,searchType:["jobs","queryIds"]}},computed:z(z({},Object(c["c"])(["isCloud","userInfo"])),{},{filterList:function(){var e=this;if(!Object.keys(this.params).length)return[];var t=this.list.map((function(t){return z(z({},t),{},{isCheck:!e.isCloud||e.userInfo.isSupperAdmin||1===t.isTenant})}));switch(this.params.roleView){case 1:t=t.filter((function(t){return t.type!==e.params.roleView}));break}return t},filterField:function(){if(Object.keys(this.filters).length)return this.filters;JSON.parse(JSON.stringify(this.$t("cost.filterList")));var e={};return this.list.forEach((function(t){e[t.field]=[]})),e}}),watch:{filterValue:function(e){var t=this;if(this.searchType.includes(this.currentFilter)){if(!e)return void(this.trees=[]);var i=this.list.find((function(e){return e.field===t.currentFilter}))["value"];this.getJobs(i)}else this.$refs.tree.filter(e)}},created:function(){this.getJobs=Object(O["debounce"])(this.getTrees,300)},methods:{handleCommand:function(e){if(this.trees.length){var t=[],i=l(this.trees),n=this.$refs.tree.getCheckedKeys(),r=i.filter((function(e){return-1===n.findIndex((function(t){return t===e}))})),a=this.dropdownList.find((function(t){return t.value===e}))["name"];switch(this.dropDownText=a,e){case"include":this.include(n);break;case"exclude":this.exclude(r);break;case"clear":this.clear();break}var s=this.$refs.tree.getCheckedNodes();this.handleFilterResult(s)}else this.$message({type:"warning",message:"请先请求维度数据"});function l(e){if(0!==e.length){for(var i=0;i<e.length;i++)e[i].children&&e[i].children.length?l(e[i].children):t.push(e[i].id);return t}}},include:function(e){this.defaultCheckedKeys=e,this.$refs.tree.setCheckedKeys(e)},exclude:function(e){this.defaultCheckedKeys=e,this.$refs.tree.setCheckedKeys(e)},clear:function(){this.defaultCheckedKeys=[],this.$refs.tree.setCheckedKeys([])},handleClear:function(){var e=this;this.list.forEach((function(t){e.filterField[t.field]=[]})),this.list.forEach((function(e){e.active=!1})),this.defaultCheckedKeys=[],this.filterResultList=[],this.handleTreeStyle(),this.handleChange()},getTrees:function(e){var t=this,i={requestType:e,name:this.searchType.includes(this.currentFilter)?this.filterValue:""};this.treeLoading=!0,this.trees=[],Object(J["a"])(i).then((function(e){t.treeLoading=!1,t.catchTress[t.currentFilter]=t.trees=e.data}))},handleClick:function(e,t){if(this.filterValue="",e.active)this.list.forEach((function(e){e.active=!1})),this.currentFilter=e.field;else if(this.list.forEach((function(e){e.active=!1})),this.list[t].active=!0,this.currentFilter=e.field,this.filterField[e.field].length){this.filterResultList=this.filterField[e.field];var i=this.filterResultList.map((function(e){return e.key}));this.$refs.tree.setCheckedKeys(i)}else this.filterResultList=[],this.$refs.tree.setCheckedKeys([]);"jobs"!==e.field?this.catchTress[this.currentFilter]?this.trees=this.catchTress[this.currentFilter]:this.getTrees(e.value):this.trees=[],this.handleTreeStyle()},handleTreeCheck:function(e,t){var i=t.checkedNodes;this.handleFilterResult(i)},handleFilterResult:function(e){var t=this,i="jobs"===this.currentFilter?this.filterField[this.currentFilter].concat(e.map((function(e){return{name:e.label,key:e.id,id:"groups"===t.currentFilter||"pus"===t.currentFilter?e.id:e.name}}))):e.map((function(e){return{name:e.label,key:e.id,id:"groups"===t.currentFilter||"pus"===t.currentFilter?e.id:e.name}}));i=Object(O["removeDuplicate"])(i,"name"),this.filterField[this.currentFilter]=this.filterResultList=i,this.$nextTick((function(e){t.handleTreeStyle()}))},handleDeleteFilter:function(e,t,i){var n=this,r=this.filterField[t.field].findIndex((function(t){return t.key===e.key}));-1!==r&&(this.filterField[t.field].splice(r,1),this.filterResultList=this.filterField[t.field],this.defaultCheckedKeys=this.filterField[t.field].map((function(e){return e.key})),this.$refs.tree.setCheckedKeys(this.defaultCheckedKeys)),this.filterField[t.field].length&&(this.list.forEach((function(e){e.active=!1})),this.list[i].active=!0),this.currentFilter=t.field,this.$nextTick((function(e){n.handleTreeStyle()})),this.handleChange()},handleDelete:function(e){var t=this,i=this.filterResultList.findIndex((function(t){return t.key===e.key}));-1!==i&&(this.filterResultList.splice(i,1),this.filterField[this.currentFilter]=this.filterResultList,this.defaultCheckedKeys=this.filterResultList.map((function(e){return e.key})),this.$refs.tree.setCheckedKeys(this.defaultCheckedKeys)),this.$nextTick((function(e){t.handleTreeStyle()})),this.handleChange()},handleTreeStyle:function(){if(this.currentFilter){var e=this.$refs["".concat(this.currentFilter,"_item")][0],t=e.getBoundingClientRect(),i=t.bottom,n=t.top,r=t.left,a=t.width,s=Q-i,l=Q-n,o=this.list.every((function(e){return!e.active}));this.treeShow=!o,this.filterTreeStyle=s<W?o?{bottom:l+"px"}:{bottom:l+"px",left:r+"px",width:a+"px"}:o?{top:i+"px"}:{top:i+"px",left:r+"px",width:a+"px"}}},handleClose:function(){this.list.forEach((function(e){e.active=!1})),this.handleTreeStyle()},handleSearch:function(){this.handleClose(),this.handleChange()},filterNode:function(e,t){return!e||-1!==t.label.indexOf(e)},handleTreeNodeClick:function(e,t,i){t.checked=!t.checked;var n=this.$refs.tree.getCheckedNodes();this.handleFilterResult(n)},handleCollapse:function(e){this.currentFilter&&this.handleClose()},handleFilterText:function(){var e=this,t="";return this.list.forEach((function(i){var n=i.name,r=e.filterField[i.field].map((function(e){return e.name})).join("、");t+=r?"".concat(n,": ").concat(r,"; "):""})),t},handleQuery:function(){this.$emit("handleQuery")},handleChange:function(){var e=this,t={};this.list.forEach((function(i){e.filterField[i.field].length?t[i.field]=e.filterField[i.field].map((function(e){return e.id})):t[i.field]=e.filterField[i.field]})),this.$emit("updateFilter",t,this.filterField,this.handleFilterText())}}},U=M,X=(i("2743"),Object(b["a"])(U,I,q,!1,null,"ea13c03a",null)),Y=X.exports,Z=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:{"table-fullscreen":e.fullscreen}},[e.list.length||e.loading?i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.tableList,border:"","show-header":!1,"highlight-current-row":""}},[e._l(e.tableHeader,(function(e,t){return[i("el-table-column","name"===e?{key:t,attrs:{prop:e,align:"left","min-width":"170px",fixed:""}}:{key:t,attrs:{prop:e,align:"center",fixed:("sum"===e||"basic"===e)&&"right","min-width":"sum"===e?"160px":"100px"}})]}))],2):i("el-empty",{attrs:{description:"无成本变化数据","image-size":120}}),e._v(" "),i("div",{staticClass:"btns"},[i("el-pagination",{attrs:{"current-page":e.params.page,"page-sizes":[20,30],"page-size":e.params.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.params.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),i("el-button",{staticClass:"export-btn",attrs:{type:"primary"},on:{click:e.handleExport}},[e._v("导出 csv")]),e._v(" "),i("i",{staticClass:"el-icon-full-screen",attrs:{title:e.fullscreen?"还原":"放大"},on:{click:e.switchFullscreen}})],1)],1)},ee=[];function te(e){return te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},te(e)}function ie(e){return se(e)||ae(e)||re(e)||ne()}function ne(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function re(e,t){if(e){if("string"===typeof e)return le(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?le(e,t):void 0}}function ae(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function se(e){if(Array.isArray(e))return le(e)}function le(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function oe(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function ce(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(i),!0).forEach((function(t){ue(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):oe(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function ue(e,t,i){return t=fe(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function fe(e){var t=de(e,"string");return"symbol"===te(t)?t:String(t)}function de(e,t){if("object"!==te(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!==te(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var he={name:"SummaryTable",props:{params:{type:Object,default:function(){}},list:{type:Array,default:function(){return[]}},tableHeight:String,loading:Boolean},data:function(){return{filterList:this.$t("cost.filterList"),fullscreen:!1}},computed:ce(ce({},Object(c["c"])(["userInfo"])),{},{tableList:function(){var e=this;if(this.list.length){var t=this.filterList.find((function(t){return t.value===e.params.queryGroup})),i=t?t["name"]:"",n=this.list.reduce((function(e,t){var i={};return i["name"]=t["key"],t.objData.forEach((function(e){i[e.dt]=e.value})),i.sum=t["value"],i["basic"]=t["basic"],[].concat(ie(e),[i])}),[]),r=this.list[0].objData.map((function(e){return e.dt})),a={name:"".concat(i,"（分组依据）")};return r.forEach((function(e){a[e]=e})),a=Object.assign({},a,{sum:"总计 - ".concat(i," 维度"),basic:"总计环比"}),n.unshift(a),n}},tableHeader:function(){if(this.tableList)return Object.keys(this.tableList[0])}}),methods:{handleSizeChange:function(e){this.$emit("handleSizeChange",e)},handleCurrentChange:function(e){this.$emit("handleCurrentChange",e)},switchFullscreen:function(){this.fullscreen=!this.fullscreen,this.$emit("updateHeight",this.fullscreen)},handleExport:function(){var e=this,t="user_id=".concat(this.userInfo.userId,"&tenant_name=").concat(this.userInfo.tenantName,"&"),i=[],n=Object.keys(this.params);n.forEach((function(t){var n=e.params[t];if(Array.isArray(n)){var r=n.map((function(e){return"".concat(t,"=").concat(e,"&")}));i.push(r)}else i.push("".concat(t,"=").concat(n,"&"))}));var r=i.flat().join("");r=t+r.substr(0,r.length-1);var a="".concat("/api-gateway/","cost/stat/excel?").concat(r);window.open(a,"_blank")}}},pe=he,me=(i("baab"),Object(b["a"])(pe,Z,ee,!1,null,"60cc84b7",null)),ve=me.exports,ye={name:"CostAnalysis",components:{LeftTree:a["a"],CustomForm:s["a"],FilterList:C,Chart:R,Table:ve,SideFilter:Y},data:function(){return{id:this.$route.query.id,loading:!1,visible:!1,saveAsvisible:!1,name:"",params:{page:1,limit:20,total:0},timeRange:null,queryGroup:0,filterStr:"",sideFilter:{},topParams:{},saveLoading:!1,saveAsLoading:!1,filterList:this.$t("cost.filterList"),list:[],clientHeight:document.documentElement.clientHeight||document.body.clientHeight,tableHeight:"0px"}},created:function(){this.id&&this.getReportDetail()},mounted:function(){this.excuteHeight()},methods:{handleSizeChange:function(e){this.params.limit=e,this.getChartList()},handleCurrentChange:function(e){this.params.page=e,this.getChartList()},excuteHeight:function(){var e=this;this.$nextTick((function(t){var i=e.$refs.chartRef.$el.getBoundingClientRect(),n=i.height;e.tableHeight=e.clientHeight-n-125+"px"}))},getReportDetail:function(){var e=this;Object(J["d"])({id:parseInt(this.id)}).then((function(t){var i=t.data;e.name=i.name,e.filterStr=i.filterStr,e.topParams=JSON.parse(i.topParams),e.sideFilter=JSON.parse(i.sideFilter),e.queryGroup=i.queryGroup;var n={};e.filterList.forEach((function(t){e.sideFilter[t.field].length?n[t.field]=e.sideFilter[t.field].map((function(e){return e.id})):n[t.field]=e.sideFilter[t.field]})),e.params=Object.assign({},e.params,e.topParams,n,{queryGroup:e.queryGroup}),e.getChartList()}))},getChartList:function(){var e=this;this.loading=!0,Object(J["b"])(this.params).then((function(t){e.loading=!1,e.list=t.data,e.params.page=t.page,e.params.limit=t.limit,e.params.total=t.total}))},updateParams:function(e,t){window.sessionStorage.setItem("topParams",JSON.stringify(e)),this.topParams=Object.assign({},e),this.params=Object.assign({},this.params,e,{page:1,queryGroup:this.queryGroup}),this.timeRange=t.id,this.getChartList()},updateFilter:function(e){window.sessionStorage.setItem("queryGroup",e.value),this.params=Object.assign({},this.params,{page:1,queryGroup:e.value}),this.queryGroup=e.value,this.getChartList()},updateSideFilter:function(e,t,i){window.sessionStorage.setItem("sideFilter",JSON.stringify(t)),this.params=Object.assign({},this.params,e,{page:1}),this.filterStr=i,this.sideFilter=t},updateHeight:function(e){e?this.tableHeight="90%":this.excuteHeight()},handleCreate:function(){window.open(window.location.href,"_blank")},handleSave:function(){this.visible=!0},handleSaveConfirm:function(){var e=this;if(this.queryGroup)if(Object.keys(this.sideFilter).length){this.saveLoading=!0;var t=this.$route.query,i={name:this.name,topParams:JSON.stringify(this.topParams),queryGroup:this.queryGroup,sideFilter:JSON.stringify(this.sideFilter),timeRange:this.timeRange,dtType:this.params.dtType,filterStr:this.filterStr};t.id&&(i={id:t.id,name:this.name,topParams:JSON.stringify(this.topParams),queryGroup:this.queryGroup,sideFilter:JSON.stringify(this.sideFilter),timeRange:this.timeRange,dtType:this.params.dtType,filterStr:this.filterStr}),Object(J["g"])(i).then((function(t){e.saveLoading=!1,0===t.code&&e.$message({type:"success",message:"保存报告成功"})}))}else this.$message({type:"error",message:"请选择筛选分组数据"});else this.$message({type:"error",message:"请选择分组数据"})},handleSaveAsConfirm:function(){var e=this;this.saveAsLoading=!0;var t={name:this.name,topParams:JSON.stringify(this.topParams),queryGroup:this.queryGroup,sideFilter:JSON.stringify(this.sideFilter),timeRange:this.timeRange,dtType:this.params.dtType,filterStr:this.filterStr};Object(J["h"])(t).then((function(t){e.saveAsLoading=!1,0===t.code&&e.$message({type:"success",message:"另存为报告成功"})}))}}},be=ye,ge=(i("4142"),Object(b["a"])(be,n,r,!1,null,"b106e6c6",null));t["default"]=ge.exports},baab:function(e,t,i){"use strict";i("077f")},bd61:function(e,t,i){},e2ec:function(e,t,i){"use strict";i("7244")}}]);