(window["webpackJsonp_datastudio-web"]=window["webpackJsonp_datastudio-web"]||[]).push([["chunk-1611cc92","chunk-2d22c2b8","chunk-2d0e6553"],{"0534":function(t,e,r){t.exports={globalFont:"Helvetica Neue,Helvetica,PingFang SC,Avenir,Segoe UI,Arial,sans-serif,Hiragino Sans GB,Microsoft YaHei",navbarHeight:"45px",menuText:"#445782",menuActiveText:"#3782ff",subMenuActiveText:"#3782ff",menuBg:"#f7f9ff",menuHover:"#dfebff",subMenuBg:"#1f2d3d",subMenuHover:"#dfebff",sideBarWidth:"244px"}},2880:function(t,e,r){"use strict";r("8c61")},"34b7":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"step2",class:"task"===t.source?"taskStep2":""},[r("steps-head",{attrs:{active:t.currentStep,source:t.source,direction:"task"===t.source?"vertical":"horizontal"},on:{handelStep:t.handelStep}}),t._v(" "),r("div",{staticClass:"step-content"},[r("div",{directives:[{name:"show",rawName:"v-show",value:1===t.currentStep,expression:"currentStep === 1"}]},[r("el-button",{staticClass:"open-btn",attrs:{type:"primary"},on:{click:function(e){t.drawerVisible=!0}}},[t._v("高级设置")]),t._v(" "),r("el-form",{ref:"regionForm",staticClass:"ruleForm",attrs:{model:t.seniorForm,"label-width":"140px"}},[r("el-form-item",{attrs:{label:"脚本类型",prop:"commandType",rules:[{required:!0,message:"请选择脚本类型",trigger:["blur","change"]}]}},[r("el-radio-group",{on:{change:t.commandTypeChange},model:{value:t.seniorForm.commandType,callback:function(e){t.$set(t.seniorForm,"commandType",e)},expression:"seniorForm.commandType"}},[r("el-radio",{attrs:{label:"python"}},[t._v("Python")]),t._v(" "),r("el-radio",{attrs:{label:"shell"}},[t._v("Shell")])],1)],1),t._v(" "),r("el-form-item",{attrs:{required:""},scopedSlots:t._u([{key:"label",fn:function(){return[r("span",[t._v("运行模式")]),t._v(" "),r("el-popover",{attrs:{trigger:"hover",placement:"top","popper-class":"tag-popper step3-run-popper"}},[r("p",[t._v("支持本地模式与分布式模式；")]),t._v(" "),r("p",[t._v("本地模式：通过固定路由提交到本地机器上执行；")]),t._v(" "),r("p",[t._v("分布式模式：适用于海量数据处理的任务，提交到分布式集群上执行；")]),t._v(" "),r("i",{staticClass:"el-icon-info",attrs:{slot:"reference"},slot:"reference"})])]},proxy:!0}])},[t._v(" "),r("el-radio-group",{model:{value:t.seniorForm.executeMode,callback:function(e){t.$set(t.seniorForm,"executeMode",e)},expression:"seniorForm.executeMode"}},[r("el-radio",{attrs:{label:"local"}},[t._v("本地模式")]),t._v(" "),r("el-radio",{attrs:{label:"distribution"}},[t._v("分布式模式")])],1)],1),t._v(" "),"distribution"===t.seniorForm.executeMode?r("el-tabs",[r("el-tab-pane",{attrs:{label:"选择镜像"}},[r("el-form-item",{staticClass:"imageConfig",attrs:{prop:"image",rules:[{required:!0,message:"请输入镜像地址",trigger:["blur","change"]}]},scopedSlots:t._u([{key:"label",fn:function(){return[r("span",[t._v("\n                  镜像地址\n                  "),r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"bottom"},scopedSlots:t._u([{key:"content",fn:function(){return[r("div",[t._v("\n                        "+t._s("镜像提供了"+("python"===t.seniorForm.commandType?"Python":"Shell")+"任务运行时所需的库、资源、配置等软件包。")+"\n                        "),r("el-button",{attrs:{type:"text"}},[t._v("查看配置教程")])],1)]},proxy:!0}],null,!1,2892201897)},[t._v(" "),r("i",{staticClass:"el-icon-info"})])],1)]},proxy:!0}],null,!1,1691412844)},[t._v(" "),r("el-input",{attrs:{placeholder:"请输入镜像地址"},model:{value:t.seniorForm.image,callback:function(e){t.$set(t.seniorForm,"image",e)},expression:"seniorForm.image"}}),t._v(" "),r("el-popover",{attrs:{placement:"bottom",width:"500","popper-class":"sql-popper",trigger:"click"}},[r("div",{staticClass:"tops_message"},[t._v("镜像详情")]),t._v(" "),r("el-table",{attrs:{data:t.imageConfig,size:"mini","cell-style":{padding:"4px 0"}}},[r("el-table-column",{attrs:{"min-width":"240",property:"package",label:"Package"}}),t._v(" "),r("el-table-column",{attrs:{"min-width":"100",property:"version",label:"Version"}})],1),t._v(" "),r("div",{staticClass:"bottom_tool",staticStyle:{"text-align":"end","padding-top":"15px"}},[r("el-button",{attrs:{type:"text"}},[t._v("编辑")])],1),t._v(" "),r("el-button",{staticClass:"imageConfig_btn",attrs:{slot:"reference",type:"text",disabled:t.lookImageBtn},slot:"reference"},[t._v("查看镜像配置")])],1)],1)],1)],1):t._e(),t._v(" "),r("el-tabs",[r("el-tab-pane",{attrs:{label:"选择依赖工件"}},[r("el-form",{ref:"ruleForm",attrs:{model:t.ruleForm,"label-width":"140px"}},[t._l(t.ruleForm.displayDependJars,(function(e,n){return r("div",{key:n,staticClass:"sqlapp-main-set-udf"},[r("el-form-item",{staticStyle:{"margin-bottom":"10px"},attrs:{label:"Script文件"},scopedSlots:t._u([{key:"label",fn:function(){return[r("span",[t._v("\n                      依赖工件\n                      "),r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"bottom"},scopedSlots:t._u([{key:"content",fn:function(){return[r("div",{staticStyle:{padding:"8px 0"}},[t._v("\n                            "+t._s("该工件在镜像中的路径为：/work/依赖文件名称。如果在"+("python"===t.seniorForm.commandType?"Python":"Shell")+"脚本中需要依赖该工件，请直接引用上述路径。")+"\n                          ")])]},proxy:!0}],null,!0)},[t._v(" "),r("i",{staticClass:"el-icon-info"})])],1)]},proxy:!0}],null,!0)},[t._v(" "),r("el-select",{attrs:{placeholder:"依赖工件",filterable:"",clearable:""},on:{change:function(e){return t.artifactChange(e,n)}},model:{value:e.artifactId,callback:function(r){t.$set(e,"artifactId",r)},expression:"item.artifactId"}},t._l(t.artifactList,(function(t){return r("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1),t._v(" "),r("el-select",{staticStyle:{width:"300px",margin:"0 10px"},attrs:{placeholder:"工件版本",filterable:"",clearable:""},model:{value:e.id,callback:function(r){t.$set(e,"id",r)},expression:"item.id"}},t._l(t.versionList[n],(function(t){return r("el-option",{key:t.id,attrs:{label:t.displayVersion,value:t.id}})})),1),t._v(" "),r("div",{staticClass:"action"},[r("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"danger",size:"mini",icon:"el-icon-delete"},on:{click:function(e){return t.deleteUdf(n)}}}),t._v(" "),r("el-button",{directives:[{name:"show",rawName:"v-show",value:n===t.ruleForm.displayDependJars.length-1,expression:"index === ruleForm.displayDependJars.length - 1"}],attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:t.addUdf}})],1),t._v(" "),n===t.ruleForm.displayDependJars.length-1?r("div",{staticClass:"tip"},[t._v("\n                    没有找到想要的文件？\n                    "),r("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(e){return t.$router.push("/task/artifact/detail")}}},[t._v("上传工件")])],1):t._e()],1)],1)})),t._v(" "),0==t.ruleForm.displayDependJars.length?r("div",{staticStyle:{"text-align":"center","margin-top":"10px"}},[r("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:t.addUdf}})],1):t._e()],2)],1)],1),t._v(" "),r("el-tabs",{staticClass:"process"},[r("el-tab-pane",{attrs:{label:"python"===t.seniorForm.commandType?"python脚本":"shell脚本"}},[r("div",{staticClass:"editor_tool"},[r("el-button",{attrs:{plain:"",size:"mini",type:"primary"},on:{click:t.formatSql}},[t._v("格式化")]),t._v(" "),r("el-button",{attrs:{plain:"",size:"mini",type:"primary"},on:{click:t.clearSql}},[t._v("清除")])],1),t._v(" "),r("el-form-item",{staticClass:"other-param",attrs:{prop:"cmds",rules:[{required:!0,message:"请输入执行命令",trigger:["blur","change"]}],"label-width":"0"}},[r("div",{staticClass:"editor_wrap"},[r("div",{staticClass:"required"},[t._v("*")]),t._v(" "),r("div",{staticClass:"editor_type"},[r("span",{staticClass:"tips",on:{click:function(e){return t.handelInfo("jinjia","参数提示")}}},[t._v("参数提示")])]),t._v(" "),r("div",{class:["monaco-editor-wrap",t.fullscreen?"table-fullscreen":""]},[r("i",{staticClass:"btn-full-screen el-icon-full-screen",attrs:{title:t.fullscreen?"还原":"全屏"},on:{click:function(e){t.fullscreen=!t.fullscreen}}}),t._v(" "),1===t.currentStep?r("monaco-editor",{key:t.sqlKey+""+t.currentStep,ref:"monaco",attrs:{"word-wrap":"on",language:t.seniorForm.commandType},model:{value:t.seniorForm.cmds,callback:function(e){t.$set(t.seniorForm,"cmds",e)},expression:"seniorForm.cmds"}}):t._e()],1)])])],1)],1)],1)],1),t._v(" "),2===t.currentStep?r("step-three",{ref:"stepThree",attrs:{"is-workflow":t.isWorkflow,"name-disabled":t.nameDisabled,"is-show-input-btn":!0,"is-input-edit":!0,"is-output-edit":!0,"is-show-input-check":!0,"is-show-output-check":!0,region:t.seniorForm.sourceRegion,"rule-form":t.ruleForm,"senior-form":t.seniorForm}}):t._e(),t._v(" "),3===t.currentStep?r("ViewParams",{attrs:{info:t.info,"version-list":t.versionList,"artifact-list":t.artifactList,content:t.seniorForm.cmds,"region-list":t.regionList,"is-workflow":t.isWorkflow,"name-disabled":t.nameDisabled,"is-show-input-btn":!0,"is-input-edit":!0,"is-output-edit":!0,"is-show-input-check":!0,"is-show-output-check":!0},on:{jumpStep:function(e){return t.currentStep=e}}}):t._e(),t._v(" "),r("el-drawer",{attrs:{title:"高级设置",visible:t.drawerVisible,"append-to-body":!0,"with-header":!1,direction:"rtl"},on:{"update:visible":function(e){t.drawerVisible=e}}},[r("senior-form",{ref:"seniorForm",attrs:{code:t.ruleForm.templateCode,"run-mode-show":t.runModeShow,"is-show-mode":!1,"senior-form":t.seniorForm},on:{close:function(e){t.drawerVisible=!1}}})],1)],1),t._v(" "),r("div",{staticClass:"btn-wrap"},[r("el-button",{on:{click:function(e){return t.$emit("cancel")}}},[t._v("取消")]),t._v(" "),t.isShowPublish||!t.isShowPublish&&1!==t.currentStep?r("el-button",{on:{click:t.preStep}},[t._v("上一步")]):t._e(),t._v(" "),r("el-button",{attrs:{type:"primary",disabled:!t.canEdit&&("task"===t.source&&3===t.currentStep||"task"!==t.source&&2===t.currentStep),loading:t.btnLoading},on:{click:t.nextStep}},[t._v(t._s("task"===t.source&&3!==t.currentStep||1===t.currentStep?"下一步":t.copyId?"确认复制":"保存"))]),t._v(" "),t.isShowPublish&&t.currentStep>=3?r("el-checkbox",{staticClass:"task-checkbox",model:{value:t.ruleForm.invokingStatus,callback:function(e){t.$set(t.ruleForm,"invokingStatus",e)},expression:"ruleForm.invokingStatus"}},[t._v("切换至该版本")]):t._e()],1),t._v(" "),r("valid-params",{ref:"validParams",attrs:{code:t.ruleForm.templateCode},on:{save:function(e){t.$emit("save",e)}}}),t._v(" "),r("el-dialog",{attrs:{title:"拉取git代码库",visible:t.dialogVisible,width:"550px","close-on-click-modal":!1,"append-to-body":!0,"modal-append-to-body":!1},on:{"update:visible":function(e){t.dialogVisible=e},close:t.closeGit}},[r("el-form",{ref:"gitForm",attrs:{model:t.gitForm,rules:t.gitRules,"label-width":"110px"}},[r("el-form-item",{attrs:{label:"选择git跟目录",prop:"projectName"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"选择git跟目录",clearable:""},model:{value:t.gitForm.projectName,callback:function(e){t.$set(t.gitForm,"projectName",e)},expression:"gitForm.projectName"}},[r("el-option",{attrs:{label:"ads-bigdata-datastudio",value:"ads-bigdata-datastudio"}}),t._v(" "),r("el-option",{attrs:{label:"ads-algo-datastudio",value:"ads-algo-datastudio"}}),t._v(" "),r("el-option",{attrs:{label:"ecom-data-batch",value:"ecom-data-batch"}})],1)],1),t._v(" "),r("el-form-item",{attrs:{label:"输入子路径",prop:"filePath"}},[r("el-input",{attrs:{placeholder:"请输入子路径"},model:{value:t.gitForm.filePath,callback:function(e){t.$set(t.gitForm,"filePath",e)},expression:"gitForm.filePath"}}),t._v(" "),r("div",{staticClass:"tip"},[t._v("输入提示：输入git子路径，例如：/a/b/test.py")])],1)],1),t._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),r("el-button",{attrs:{type:"primary",loading:t.gitDisabled},on:{click:t.saveGit}},[t._v("拉取git仓库代码")])],1)],1),t._v(" "),r("el-info",{attrs:{title:t.infoObj.title},model:{value:t.infoObj.type,callback:function(e){t.$set(t.infoObj,"type",e)},expression:"infoObj.type"}},["jinjia"===t.infoObj.msgType?r("sql-tips"):t._e()],1)],1)},o=[],i=r("deac"),a=r("2dfe"),s=r("9caf"),l=r("042b"),c=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{ref:"monaco",staticClass:"monaco-editor"})},u=[],d=r("33f9"),f=r("f1a8"),p=r("97fe");function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function h(t){return v(t)||y(t)||b(t)||g()}function g(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function b(t,e){if(t){if("string"===typeof t)return k(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?k(t,e):void 0}}function y(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function v(t){if(Array.isArray(t))return k(t)}function k(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function w(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?_(Object(r),!0).forEach((function(e){S(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function S(t,e,r){return e=F(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function F(t){var e=x(t,"string");return"symbol"===m(e)?e:String(e)}function x(t,e){if("object"!==m(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==m(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var C={name:"MonacoEditor",props:{readOnly:{type:Boolean,default:!1},value:{type:String,default:""},theme:{type:String,default:"vs"},language:{type:String,default:"sql"},minimap:{type:Boolean,default:!1},scrollBeyondLastLine:{type:Boolean,default:!0},renderLineHighlight:{type:String,default:"line"},customTheme:{type:Object,default:function(){return{}},wordWrap:{type:String,default:""}}},data:function(){return{editorOptions:{selectOnLineNumbers:!0,roundedSelection:!1,readOnly:this.readOnly,cursorStyle:"line",automaticLayout:!0,useTabStops:!1,fontSize:14,autoIndent:!1,folding:!0,scrollBeyondLastLine:this.scrollBeyondLastLine,renderLineHighlight:this.renderLineHighlight,foldingStrategy:"indentation",wordWrap:this.wordWrap,minimap:{enabled:this.minimap},scrollbar:{alwaysConsumeMouseWheel:!1}}}},computed:{languageKeywords:function(){var t=[];switch(this.language){case"python":t=f["language"].keywords;break;case"shell":t=p["language"].keywords;break}return t}},mounted:function(){var t=this,e=this;d["languages"].registerCompletionItemProvider(this.language,{provideCompletionItems:function(t,r){var n=t.getWordUntilPosition(r),o={startLineNumber:r.lineNumber,endLineNumber:r.lineNumber,startColumn:n.startColumn,endColumn:n.endColumn};return{suggestions:e.initSqlKeyWords(o)}}}),d["editor"].defineTheme("customTheme",{base:this.theme,inherit:!0,rules:this.customTheme.rules||[],colors:this.customTheme.colors||{}}),this.monacoEditor=d["editor"].create(this.$refs.monaco,w({value:this.value,language:this.language,theme:"customTheme"},this.editorOptions)),this.monacoEditor.onDidChangeModelContent((function(e){var r=t.monacoEditor.getValue();t.updateCode(r)})),this.monacoEditor.addCommand(d["KeyMod"].CtrlCmd|d["KeyCode"].KEY_S,(function(){t.$emit("save")})),this.monacoEditor.addCommand(d["KeyMod"].CtrlCmd|d["KeyMod"].Alt|d["KeyCode"].KEY_L,(function(){t.formatSql()})),this.monacoEditor.addCommand(d["KeyMod"].CtrlCmd|d["KeyCode"].Enter,(function(){t.$emit("exec")}))},destroyed:function(){this.monacoEditor.dispose()},methods:{initSqlKeyWords:function(t){var e=h(this.languageKeywords),r=e.map((function(e){return{label:e,insertText:e,sortText:"A".concat(name),detail:" ",range:t}}));return r},formatSql:function(){this.updateCode(this.monacoEditor.getValue())},updateCode:function(t){this.$emit("input",t)},setCode:function(t){this.monacoEditor.setValue(t)},insertContent:function(t){var e=this.monacoEditor.getSelection(),r=new d["Range"](e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),n={major:1,minor:1},o={identifier:n,range:r,text:t,forceMoveMarkers:!0};this.monacoEditor.executeEdits(this.root,[o]),this.monacoEditor.focus()},getSelection:function(){var t=this.monacoEditor.getSelection();return this.monacoEditor.getModel().getValueInRange(t)}}},O=C,P=(r("2880"),r("c977"),r("2877")),j=Object(P["a"])(O,c,u,!1,null,"1dc4ebde",null),T=j.exports,D=r("b199"),E=r("b893"),$=r("3dc0"),L=r("ffe0");function I(t){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I(t)}function q(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */q=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),s=new T(n||[]);return o(a,"_invoke",{value:C(t,r,s)}),a}function d(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var f="suspendedStart",p="suspendedYield",m="executing",h="completed",g={};function b(){}function y(){}function v(){}var k={};c(k,a,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(D([])));w&&w!==r&&n.call(w,a)&&(k=w);var S=v.prototype=b.prototype=Object.create(k);function F(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function r(o,i,a,s){var l=d(t[o],t,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==I(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(u).then((function(t){c.value=t,a(c)}),(function(t){return r("throw",t,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function C(e,r,n){var o=f;return function(i,a){if(o===m)throw new Error("Generator is already running");if(o===h){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var l=O(s,n);if(l){if(l===g)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var c=d(e,r,n);if("normal"===c.type){if(o=n.done?h:p,c.arg===g)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=h,n.method="throw",n.arg=c.arg)}}}function O(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var i=d(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,g;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,g):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function D(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(I(e)+" is not iterable")}return y.prototype=v,o(S,"constructor",{value:v,configurable:!0}),o(v,"constructor",{value:y,configurable:!0}),y.displayName=c(v,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,c(t,l,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},F(x.prototype),c(x.prototype,s,(function(){return this})),e.AsyncIterator=x,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new x(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},F(S),c(S,l,"Generator"),c(S,a,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=D,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),j(r),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:D(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),g}},e}function A(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function N(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?A(Object(r),!0).forEach((function(e){B(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function B(t,e,r){return e=M(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function M(t){var e=J(t,"string");return"symbol"===I(e)?e:String(e)}function J(t,e){if("object"!==I(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==I(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function R(t,e,r,n,o,i,a){try{var s=t[i](a),l=s.value}catch(c){return void r(c)}s.done?e(l):Promise.resolve(l).then(n,o)}function V(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){R(i,n,o,a,s,"next",t)}function s(t){R(i,n,o,a,s,"throw",t)}a(void 0)}))}}var G={components:{StepsHead:a["a"],SeniorForm:s["a"],StepThree:l["a"],MonacoEditor:T,ValidParams:$["a"],SqlTips:i["a"],ViewParams:L["a"]},props:{data:{type:Object,default:function(){return{}}},isShowPublish:{type:Boolean,default:!1},source:{type:String,default:"task"}},data:function(){return{infoObj:{type:!1,msgType:"",title:""},isEdit:!1,runModeShow:!1,initAlertModel:{alertType:[],notifyCollaborator:!1},initRegularAlert:{offset:0,graularity:"",checkTime:"",triggerCondition:"notStart",alertType:[],notifyCollaborator:!1,isChecked:!1},dialogVisible:!1,btnLoading:!1,currentStep:1,queryId:"",copyId:this.$route.query.copyId,ruleForm:{invokingStatus:!0,templateCode:"PythonShell",name:"",description:"",displayDependJars:[{artifactId:"",id:""}],dependTypes:[],triggerParam:{type:"data",isIrregularSheduler:1,outputGranularity:"daily",crontabParam:{range:[],interval:5,startTime:"00:00",endTime:"23:59",fixedTime:"00:00"},crontab:""},eventDepends:[],inputDataset:[{metadata:{region:"",type:"hive",source:"",db:"",table:""},guid:"",id:"",granularity:"daily",unitOffset:0,ready_time:"0 0 * * *",useDateCalcuParam:!1,dateCalculationParam:{}}],outputDataset:[],cost:[{key:"",value:"100"}]},rules:{artifactId:[{required:!0,message:"请选择文件",trigger:["blur","change"]}],dependJars:[{required:!0,message:"请选择文件版本",trigger:["blur","change"]}],jarUrl:[{required:!0,message:"请输入地址",trigger:["blur","change"]}],type:[{required:!0,message:"请选择任务类型",trigger:["blur","change"]}]},regionList:E["l"],artifactList:[],versionList:[],drawerVisible:!1,fullscreen:!1,argsTip:'--demo--\n--这是一串带代码我想在这折行请手动输入“\\”\n--job_name test.--ads_table \\\n--dt {{ (execution_date - macros.timedelta(days=1)).strftime("%Y%m%d") }}',seniorForm:{executeMode:"local",sqlType:"edit",commandType:"python",sourceRegion:"",image:"",cmds:"",owner:"",collaborators:[],dsGroups:[],group:"",resourceLevel:"standard",executionTimeout:0,retries:1,maxActiveRuns:1,emails:"",clusterSla:"normal",alertModel:{success:{alertType:[],notifyCollaborator:!1},failure:{alertType:[],notifyCollaborator:!1,isChecked:!1},retry:{alertType:[],notifyCollaborator:!1},start:{alertType:[],notifyCollaborator:!1}},regularAlert:{offset:0,graularity:"",checkTime:"",triggerCondition:"notStart",alertType:[],notifyCollaborator:!1,isChecked:!1},acrossCloud:"common",startDate:"",endDate:"",batchParams:""},canEdit:!0,nameDisabled:!1,copyMsg:null,isWorkflow:!1,gitForm:{projectName:"ads-bigdata-datastudio",filePath:""},gitRules:{projectName:[{required:!0,message:"请选择git跟目录",trigger:["blur","change"]}],filePath:[{required:!0,message:"请输入子路径",trigger:["blur","change"]}]},gitDisabled:!1,sqlKey:0,oldPythonObj:{},oldShellObj:{}}},computed:{info:function(){return Object.assign({},this.ruleForm,this.seniorForm)},lookImageBtn:function(){var t=!0;return t=E["f"][this.seniorForm.sourceRegion]!==this.seniorForm.image,!!t},imageConfig:function(){return E["g"]||[]},disabled:function(){return 3===this.currentStep},groupList:function(){var t=this.$store.getters.userInfo;return t&&t.group?t.group.split(","):[]}},watch:{data:{handler:function(t){Object.keys(t).length>0&&(this.getTaskInfo(t),this.isEdit=!0)},deep:!0,immediate:!0}},created:function(){var t=this;document.onkeyup=function(e){"Escape"!==e.code&&27!==e.keycode||(t.fullscreen=!1)},this.seniorForm.dsGroups=this.$store.getters["user/currentUserGroup"].id?[this.$store.getters["user/currentUserGroup"].id]:[]},mounted:function(){var t=this;E["l"].then((function(e){t.regionList=e,setTimeout((function(){t.isEdit||(t.seniorForm.sourceRegion=e[0].value,t.changeRegion(e[0].value))}),1e3)}))},destroyed:function(){this.copyMsg&&this.copyMsg.close()},methods:{handelInfo:function(t,e){this.infoObj.type=!0,this.infoObj.msgType=t,this.infoObj.title=e},sqlTypeChange:function(t){this.clearSql(),this.$refs.regionForm.clearValidate("cmds"),"git"===t&&this.gitPull()},commandTypeChange:function(t){var e=this,r=Object.assign({},{sourceRegion:this.seniorForm.sourceRegion,image:this.seniorForm.image,cmds:this.seniorForm.cmds,displayDependJars:this.ruleForm.displayDependJars});"python"===t?this.oldShellObj=r:this.oldPythonObj=r,this.seniorForm.image="",this.ruleForm.displayDependJars=[{artifactId:"",id:""}],this.clearSql();var n="python"===t?this.oldPythonObj:this.oldShellObj;Object.keys(n).length<=0||this.$nextTick((function(){e.seniorForm.image=n.image,e.ruleForm.displayDependJars=n.displayDependJars,e.$refs.monaco.setCode(n.cmds),console.log(n,33333)}))},formatSql:function(){},clearSql:function(){this.$refs.monaco.setCode(""),this.seniorForm.gitPath="",this.sqlKey++},gitPull:function(){this.dialogVisible=!0,this.seniorForm.gitPath&&(this.gitForm.projectName=this.seniorForm.gitPath.substring(0,this.seniorForm.gitPath.indexOf("/")),this.gitForm.filePath=this.seniorForm.gitPath.substring(this.seniorForm.gitPath.indexOf("/")))},saveGit:function(){var t=this;this.$refs.gitForm.validate((function(e){e&&(t.gitDisabled=!0,Object(D["D"])({projectName:t.gitForm.projectName,filePath:t.gitForm.filePath}).then((function(e){var r=e.data;t.seniorForm.cmds=decodeURIComponent(window.atob(r.content)),t.$refs.monaco.setCode(t.seniorForm.cmds),r.conf?t.seniorForm.batchParams=r.conf:t.seniorForm.batchParams="",t.seniorForm.gitPath=t.gitForm.projectName+t.gitForm.filePath,t.sqlKey++,t.dialogVisible=!1})).finally((function(){t.gitDisabled=!1})))}))},closeGit:function(){this.$refs.gitForm.resetFields()},handelStep:function(t){t<1?this.$router.push("/task/step1"):this.currentStep=t},init:function(){var t=this;Object(D["p"])({region:this.seniorForm.sourceRegion}).then((function(e){var r=e.data;t.artifactList=r}))},getTaskInfo:function(t){var e=this;this.copyId||(this.queryId=t.id),this.nameDisabled=1===t.online;var r=JSON.parse(t.runtimeConfig);r.cost&&(this.ruleForm.cost=r.cost),delete r.cost,this.seniorForm=Object.assign(this.seniorForm,r),r.commandType||(this.seniorForm.commandType="shell"),r.gitPath&&!r.sqlType&&(this.seniorForm.sqlType="git"),this.ruleForm.name=t.name,this.ruleForm.description=t.description,this.$set(this.ruleForm,"online",t.online),this.$refs.monaco&&this.$refs.monaco.setCode(r.cmds),this.ruleForm.inputDataset=JSON.parse(t.inputDataset),this.ruleForm.outputDataset=JSON.parse(t.outputDataset),this.ruleForm.outputDataset&&this.ruleForm.outputDataset.length>0&&this.ruleForm.outputDataset[0].location&&this.$set(this.ruleForm.outputDataset[0],"check",!0),this.sqlKey++,this.init(),t.displayDependJars&&t.displayDependJars.length?(this.ruleForm.displayDependJars=t.displayDependJars.map((function(t){return{artifactId:t.artifactId,id:t.id}})),this.ruleForm.displayDependJars.forEach((function(t,r){t.artifactId&&e.artifactChange(t.artifactId,r)}))):this.$set(this.ruleForm,"displayDependJars",[{artifactId:"",id:""}]),this.seniorForm.gitPath&&(this.gitForm.projectName=this.seniorForm.gitPath.substring(0,this.seniorForm.gitPath.indexOf("/")),this.gitForm.filePath=this.seniorForm.gitPath.substring(this.seniorForm.gitPath.indexOf("/"))),t.dependTypes&&(this.ruleForm.dependTypes=JSON.parse(t.dependTypes)),t.triggerParam&&Object.assign(this.ruleForm.triggerParam,JSON.parse(t.triggerParam)),t.eventDepends&&(this.ruleForm.eventDepends=JSON.parse(t.eventDepends)),this.copyId||t.isCopy?(this.ruleForm.name=t.name+"_copy",this.nameDisabled=!1,this.seniorForm.owner=this.$store.getters.userInfo.userId):this.canEdit=t.canEdit,t.isCopy&&(this.copyId=t.isCopy),t.workflowId&&(this.isWorkflow=!0)},changeRegion:function(t){this.seniorForm.image=E["f"][t]||"-",this.ruleForm.displayDependJars.forEach((function(t){t.artifactId="",t.id=""})),this.artifactList=[],this.versionList=[],this.init()},artifactChange:function(t,e){var r=this;Object(D["ab"])({artifactId:t,region:this.seniorForm.sourceRegion}).then((function(t){var n=t.data;r.$set(r.versionList,e,n)}))},deleteUdf:function(t){this.ruleForm.displayDependJars.splice(t,1)},addUdf:function(){var t=this.ruleForm.displayDependJars.length;t>0&&!this.ruleForm.displayDependJars[t-1].id?this.$message({type:"warning",message:"请先选择当前的Version！"}):this.ruleForm.displayDependJars.push({artifactId:"",id:""})},preStep:function(){1===this.currentStep?this.$router.push("/task/step1"):this.currentStep--},modeChange:function(t){this.runModeShow="local"!==t},nextStep:function(){var t=V(q().mark((function t(e){var r,n,o,i,a,s=this;return q().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(1!==this.currentStep){t.next=7;break}r=0,this.$refs.ruleForm.validate((function(t){t&&r++})),this.$refs.regionForm.validate((function(t){t&&r++})),2===r&&(this.ruleForm.inputDataset.forEach((function(t){t.metadata.region=s.seniorForm.sourceRegion})),this.currentStep++),t.next=39;break;case 7:if(2!==this.currentStep||"task"!==this.source){t.next=11;break}this.$refs.stepThree.$refs.ruleForm.validate((function(t){t&&s.$refs.stepThree.validateType()&&(s.currentStep++,s.$nextTick((function(){document.documentElement.scrollTo(0,0)})))})),t.next=39;break;case 11:if(!this.ruleForm.dependTypes.includes("dataset")||this.ruleForm.inputDataset.length){t.next=14;break}return this.$message.error("至少包含一个前置依赖"),t.abrupt("return",!1);case 14:if(n=0,this.ruleForm.cost.forEach((function(t){n+=parseInt(t.value)})),100===n){t.next=19;break}return this.$message.error("成本归属占比总额必须是100哦"),t.abrupt("return",!1);case 19:if(o=!1,this.ruleForm.dependTypes.includes("event")&&0===this.ruleForm.eventDepends.length&&(o=!0,this.$message.warning("请至少添加一条内部依赖")),!o){t.next=23;break}return t.abrupt("return");case 23:i=N({},E["b"](this.ruleForm)),i.inputDataset.forEach((function(t){t.id="",t.completePath&&delete t.completePath,t.sourceTableList&&delete t.sourceTableList,t.granularityList&&delete t.granularityList,t.checkPathList&&delete t.checkPathList,delete t.isExternal})),i.outputDataset.forEach((function(t){t.completePath&&delete t.completePath,s.copyId&&(delete t.id,delete t.metadata)})),"python"===i.type&&delete i.mainClass,delete i.type,this.seniorForm.source||(this.seniorForm.source=this.source),i.runtimeConfig=this.seniorForm,i.runtimeConfig.cost=this.ruleForm.cost,delete i.cost,this.$store.getters.userInfo&&!this.seniorForm.owner&&(i.runtimeConfig.owner=this.$store.getters.userInfo.userId),this.queryId&&(i.id=this.queryId),a=JSON.parse(JSON.stringify(i)),a.folderId=this.$route.query.folderId,a.runtimeConfig.regularAlert.isChecked||delete a.runtimeConfig.regularAlert,Object.keys(a.runtimeConfig.alertModel).forEach((function(t){a.runtimeConfig.alertModel[t].isChecked||(a.runtimeConfig.alertModel[t]=s.initAlertModel)})),this.$refs.validParams.show(a);case 39:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}},z=G,H=(r("de64"),r("7513"),Object(P["a"])(z,n,o,!1,null,"18301b54",null));e["default"]=H.exports},"3b59":function(t,e,r){t.exports=r.p+"static/img/offset_tips.5be1bb3c.png"},5632:function(t,e,r){},6375:function(t,e,r){t.exports={globalFont:"Helvetica Neue,Helvetica,PingFang SC,Avenir,Segoe UI,Arial,sans-serif,Hiragino Sans GB,Microsoft YaHei",navbarHeight:"45px",menuText:"#445782",menuActiveText:"#3782ff",subMenuActiveText:"#3782ff",menuBg:"#f7f9ff",menuHover:"#dfebff",subMenuBg:"#1f2d3d",subMenuHover:"#dfebff",sideBarWidth:"244px"}},7513:function(t,e,r){"use strict";r("0534")},"8c61":function(t,e,r){},"97fe":function(t,e,r){"use strict";r.r(e),r.d(e,"conf",(function(){return n})),r.d(e,"language",(function(){return o}));
/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.37.1(20a8d5a651d057aaed7875ad1c1f2ecf13c4e773)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
var n={comments:{lineComment:"#"},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}]},o={defaultToken:"",ignoreCase:!0,tokenPostfix:".shell",brackets:[{token:"delimiter.bracket",open:"{",close:"}"},{token:"delimiter.parenthesis",open:"(",close:")"},{token:"delimiter.square",open:"[",close:"]"}],keywords:["if","then","do","else","elif","while","until","for","in","esac","fi","fin","fil","done","exit","set","unset","export","function"],builtins:["ab","awk","bash","beep","cat","cc","cd","chown","chmod","chroot","clear","cp","curl","cut","diff","echo","find","gawk","gcc","get","git","grep","hg","kill","killall","ln","ls","make","mkdir","openssl","mv","nc","node","npm","ping","ps","restart","rm","rmdir","sed","service","sh","shopt","shred","source","sort","sleep","ssh","start","stop","su","sudo","svn","tee","telnet","top","touch","vi","vim","wall","wc","wget","who","write","yes","zsh"],startingWithDash:/\-+\w+/,identifiersWithDashes:/[a-zA-Z]\w+(?:@startingWithDash)+/,symbols:/[=><!~?&|+\-*\/\^;\.,]+/,tokenizer:{root:[[/@identifiersWithDashes/,""],[/(\s)((?:@startingWithDash)+)/,["white","attribute.name"]],[/[a-zA-Z]\w*/,{cases:{"@keywords":"keyword","@builtins":"type.identifier","@default":""}}],{include:"@whitespace"},{include:"@strings"},{include:"@parameters"},{include:"@heredoc"},[/[{}\[\]()]/,"@brackets"],[/@symbols/,"delimiter"],{include:"@numbers"},[/[,;]/,"delimiter"]],whitespace:[[/\s+/,"white"],[/(^#!.*$)/,"metatag"],[/(^#.*$)/,"comment"]],numbers:[[/\d*\.\d+([eE][\-+]?\d+)?/,"number.float"],[/0[xX][0-9a-fA-F_]*[0-9a-fA-F]/,"number.hex"],[/\d+/,"number"]],strings:[[/'/,"string","@stringBody"],[/"/,"string","@dblStringBody"]],stringBody:[[/'/,"string","@popall"],[/./,"string"]],dblStringBody:[[/"/,"string","@popall"],[/./,"string"]],heredoc:[[/(<<[-<]?)(\s*)(['"`]?)([\w\-]+)(['"`]?)/,["constants","white","string.heredoc.delimiter","string.heredoc","string.heredoc.delimiter"]]],parameters:[[/\$\d+/,"variable.predefined"],[/\$\w+/,"variable"],[/\$[*@#?\-$!0_]/,"variable"],[/\$'/,"variable","@parameterBodyQuote"],[/\$"/,"variable","@parameterBodyDoubleQuote"],[/\$\(/,"variable","@parameterBodyParen"],[/\$\{/,"variable","@parameterBodyCurlyBrace"]],parameterBodyQuote:[[/[^#:%*@\-!_']+/,"variable"],[/[#:%*@\-!_]/,"delimiter"],[/[']/,"variable","@pop"]],parameterBodyDoubleQuote:[[/[^#:%*@\-!_"]+/,"variable"],[/[#:%*@\-!_]/,"delimiter"],[/["]/,"variable","@pop"]],parameterBodyParen:[[/[^#:%*@\-!_)]+/,"variable"],[/[#:%*@\-!_]/,"delimiter"],[/[)]/,"variable","@pop"]],parameterBodyCurlyBrace:[[/[^#:%*@\-!_}]+/,"variable"],[/[#:%*@\-!_]/,"delimiter"],[/[}]/,"variable","@pop"]]}}},b199:function(t,e,r){"use strict";r.d(e,"y",(function(){return i})),r.d(e,"W",(function(){return a})),r.d(e,"E",(function(){return s})),r.d(e,"p",(function(){return l})),r.d(e,"ab",(function(){return c})),r.d(e,"s",(function(){return u})),r.d(e,"r",(function(){return d})),r.d(e,"t",(function(){return f})),r.d(e,"Q",(function(){return p})),r.d(e,"T",(function(){return m})),r.d(e,"A",(function(){return h})),r.d(e,"O",(function(){return g})),r.d(e,"B",(function(){return b})),r.d(e,"q",(function(){return y})),r.d(e,"e",(function(){return v})),r.d(e,"g",(function(){return k})),r.d(e,"d",(function(){return _})),r.d(e,"ib",(function(){return w})),r.d(e,"n",(function(){return S})),r.d(e,"Y",(function(){return F})),r.d(e,"I",(function(){return x})),r.d(e,"H",(function(){return C})),r.d(e,"c",(function(){return O})),r.d(e,"hb",(function(){return P})),r.d(e,"m",(function(){return j})),r.d(e,"j",(function(){return T})),r.d(e,"f",(function(){return D})),r.d(e,"bb",(function(){return E})),r.d(e,"J",(function(){return $})),r.d(e,"F",(function(){return L})),r.d(e,"h",(function(){return I})),r.d(e,"db",(function(){return q})),r.d(e,"z",(function(){return A})),r.d(e,"R",(function(){return N})),r.d(e,"u",(function(){return B})),r.d(e,"D",(function(){return M})),r.d(e,"P",(function(){return J})),r.d(e,"w",(function(){return R})),r.d(e,"Z",(function(){return V})),r.d(e,"C",(function(){return G})),r.d(e,"eb",(function(){return z})),r.d(e,"a",(function(){return H})),r.d(e,"fb",(function(){return K})),r.d(e,"cb",(function(){return W})),r.d(e,"G",(function(){return U})),r.d(e,"U",(function(){return Y})),r.d(e,"i",(function(){return Q})),r.d(e,"k",(function(){return Z})),r.d(e,"K",(function(){return X})),r.d(e,"L",(function(){return tt})),r.d(e,"N",(function(){return et})),r.d(e,"M",(function(){return rt})),r.d(e,"b",(function(){return nt})),r.d(e,"l",(function(){return ot})),r.d(e,"o",(function(){return it})),r.d(e,"S",(function(){return at})),r.d(e,"gb",(function(){return st})),r.d(e,"X",(function(){return lt})),r.d(e,"v",(function(){return ct})),r.d(e,"V",(function(){return ut}));var n=r("7258"),o="/ds_task/task";function i(t){return n["b"].post("/ds_task/metadata/search",t,{timeout:12e4})}function a(){return n["b"].get("/ds_task/sysdict/getTemplateList")}function s(t){return n["b"].get("/ds_task/dict/list",{params:t})}function l(t){return n["b"].get("/ds_task/artifact/list",{params:t})}function c(t){return n["b"].get("/ds_task/artifactversion/list",{params:t})}function u(t){return n["b"].get("/ds_task/flinkcluster/list",{params:t})}function d(t){return n["b"].get("/ds_task/flinkcluster/auto",{params:t})}function f(t){return n["b"].get("/ds_task/flinkcluster/noauto",{params:t})}function p(t){return n["b"].get("".concat(o,"/get"),{params:t})}function m(t){return n["b"].get("".concat(o,"/page"),{params:t,timeout:6e4})}function h(t){return n["b"].post("/ds_task/metadata/getddl",t)}function g(t){return n["b"].get("".concat(o,"/getInsertSql"),{params:t,timeout:6e5})}function b(t){return n["b"].post("/ds_task/metadata/getdispalyddl",t)}function y(t){return n["b"].get("".concat(o,"/getChildDependencies"),{params:{id:t}})}function v(t){return n["b"].get("".concat(o,"/backfill"),{params:t})}function k(t){return n["b"].put("".concat(o,"/onlineAndOffline"),null,{params:t})}function _(t){return n["b"].post("".concat(o,"/add"),t)}function w(t){return n["b"].put("".concat(o,"/update"),t)}function S(t){return n["b"].delete("".concat(o,"/new/delete"),{params:t})}function F(t){return n["b"].get("/ds_task/user/list",{params:{name:t}})}function x(t){return n["b"].get("/ds_task/label/list",{params:{name:t}})}function C(t){return n["b"].get("/ds_task/label/get",{params:{id:t}})}function O(t){return n["b"].post("/ds_task/label/add",t)}function P(t){return n["b"].put("/ds_task/label/update",t)}function j(t){return n["b"].delete("/ds_task/label/delete",{params:{id:t}})}function T(t){return n["b"].patch("/ds_task/collect/add",null,{params:t})}function D(t){return n["b"].get("/ds_task/collect/cancel",{params:t})}function E(t){return n["b"].get("/ds_task/collect/my",{params:t})}function $(t){return n["b"].get("/ds_task/task/listforlabel",{params:{name:t}})}function L(t){return n["b"].get("/ds_task/task/iam",{params:t})}function I(t){return n["b"].post("/ds_task/task/check",t,{timeout:18e4})}function q(t){return n["b"].get("/ds_task/task/name/search",{params:{name:t}})}function A(t){return n["b"].get("/ds_task/task/backfillDateDetail",{params:t})}function N(t){return n["b"].get("/ds_task/task/last7",{params:t})}function B(t){return n["b"].get("/ds_task/user/getEffectiveCostList",{params:{name:t}})}function M(t){return n["b"].get("/ds_task/task/getGitSqlFile",{params:t})}function J(t){return n["b"].post("/ds_task/task/sqlTbls",t,{headers:{"Content-Type":"multipart/form-data"}})}function R(t){return n["b"].post("/ds_task/task/getCrontab",t)}function V(t){return n["b"].get("/ds_task/taskversion/pages",{params:t})}function G(){return n["b"].get("/ds_task/auditlog/type?module=task")}function z(t){return n["b"].get("/ds_task/taskversion/verionSwitch",{params:t})}function H(t){return n["b"].post("/ds_task/task/addAndStart",t)}function K(t){return n["b"].post("/ds_task/task/updateAndStart",t)}function W(t){return n["b"].post("/ds_task/task/date/preview",t)}function U(t){return n["b"].post("/ds_task/task/mergeSmallFiles/jars",t)}function Y(t){return n["b"].post("/ds_task/task/getTasks",t)}function Q(t){return n["b"].post("/ds_task/task/checkPath",t,{headers:{"Content-Type":"multipart/form-data"}})}function Z(t){return n["b"].post("/ds_task/task/fastBackfill?taskId="+t.taskId,t)}function X(t){return n["b"].get("/ds_task/task/renderContent",{params:t})}function tt(t){return n["b"].post("/ds_task/metadata/preview",t)}function et(t){return n["b"].get("/ds_task/actor/sources/page",{params:t})}function rt(t){return n["b"].get("/ds_task/taskfolder/listFolder",{params:t})}function nt(t){return n["b"].post("/ds_task/taskfolder/saveFolder",t)}function ot(t){return n["b"].get("/ds_task/taskfolder/deleteFolder",{params:t})}function it(t){return n["b"].post("/ds_task/taskfolder/editFolder",t)}function at(t){return n["b"].get("/ds_task/taskfolder/listTask",{params:t})}function st(t){return n["b"].post("/ds_task/taskfolder/updateTask",t)}function lt(t){return n["b"].get("/ds_task/wechatAlert/listById?id=".concat(t))}function ct(t){return n["b"].post("/pipeline/cron/get",t)}function ut(t){return n["b"].get("/ds_task/task/templateRendering",{params:t})}},b207:function(t,e,r){"use strict";r.d(e,"a",(function(){return o})),r.d(e,"b",(function(){return i}));var n=r("7258");function o(t){return n["b"].get("/ds_task/validator/item/list?templateCode="+t)}function i(t,e){return n["b"].post("/ds_task/validator/check?templateCode="+t,e)}},c977:function(t,e,r){"use strict";r("6375")},de64:function(t,e,r){"use strict";r("5632")},f1a8:function(t,e,r){"use strict";r.r(e),r.d(e,"conf",(function(){return h})),r.d(e,"language",(function(){return g}));var n=r("33f9");function o(t,e){var r="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=i(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return s=t.done,t},e:function(t){l=!0,a=t},f:function(){try{s||null==r.return||r.return()}finally{if(l)throw a}}}}function i(t,e){if(t){if("string"===typeof t)return a(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(t,e):void 0}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)
/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.37.1(20a8d5a651d057aaed7875ad1c1f2ecf13c4e773)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/}var l=Object.defineProperty,c=Object.getOwnPropertyDescriptor,u=Object.getOwnPropertyNames,d=Object.prototype.hasOwnProperty,f=function(t,e,r,n){if(e&&"object"===s(e)||"function"===typeof e){var i,a=o(u(e));try{var f=function(){var o=i.value;d.call(t,o)||o===r||l(t,o,{get:function(){return e[o]},enumerable:!(n=c(e,o))||n.enumerable})};for(a.s();!(i=a.n()).done;)f()}catch(p){a.e(p)}finally{a.f()}}return t},p=function(t,e,r){return f(t,e,"default"),r&&f(r,e,"default")},m={};p(m,n);var h={comments:{lineComment:"#",blockComment:["'''","'''"]},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"',notIn:["string"]},{open:"'",close:"'",notIn:["string","comment"]}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],onEnterRules:[{beforeText:new RegExp("^\\s*(?:def|class|for|if|elif|else|while|try|with|finally|except|async|match|case).*?:\\s*$"),action:{indentAction:m.languages.IndentAction.Indent}}],folding:{offSide:!0,markers:{start:new RegExp("^\\s*#region\\b"),end:new RegExp("^\\s*#endregion\\b")}}},g={defaultToken:"",tokenPostfix:".python",keywords:["False","None","True","_","and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","exec","finally","for","from","global","if","import","in","is","lambda","match","nonlocal","not","or","pass","print","raise","return","try","while","with","yield","int","float","long","complex","hex","abs","all","any","apply","basestring","bin","bool","buffer","bytearray","callable","chr","classmethod","cmp","coerce","compile","complex","delattr","dict","dir","divmod","enumerate","eval","execfile","file","filter","format","frozenset","getattr","globals","hasattr","hash","help","id","input","intern","isinstance","issubclass","iter","len","locals","list","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","reversed","range","raw_input","reduce","reload","repr","reversed","round","self","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","unichr","unicode","vars","xrange","zip","__dict__","__methods__","__members__","__class__","__bases__","__name__","__mro__","__subclasses__","__init__","__import__"],brackets:[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.bracket"},{open:"(",close:")",token:"delimiter.parenthesis"}],tokenizer:{root:[{include:"@whitespace"},{include:"@numbers"},{include:"@strings"},[/[,:;]/,"delimiter"],[/[{}\[\]()]/,"@brackets"],[/@[a-zA-Z_]\w*/,"tag"],[/[a-zA-Z_]\w*/,{cases:{"@keywords":"keyword","@default":"identifier"}}]],whitespace:[[/\s+/,"white"],[/(^#.*$)/,"comment"],[/'''/,"string","@endDocString"],[/"""/,"string","@endDblDocString"]],endDocString:[[/[^']+/,"string"],[/\\'/,"string"],[/'''/,"string","@popall"],[/'/,"string"]],endDblDocString:[[/[^"]+/,"string"],[/\\"/,"string"],[/"""/,"string","@popall"],[/"/,"string"]],numbers:[[/-?0x([abcdef]|[ABCDEF]|\d)+[lL]?/,"number.hex"],[/-?(\d*\.)?\d+([eE][+\-]?\d+)?[jJ]?[lL]?/,"number"]],strings:[[/'$/,"string.escape","@popall"],[/'/,"string.escape","@stringBody"],[/"$/,"string.escape","@popall"],[/"/,"string.escape","@dblStringBody"]],stringBody:[[/[^\\']+$/,"string","@popall"],[/[^\\']+/,"string"],[/\\./,"string"],[/'/,"string.escape","@popall"],[/\\$/,"string"]],dblStringBody:[[/[^\\"]+$/,"string","@popall"],[/[^\\"]+/,"string"],[/\\./,"string"],[/"/,"string.escape","@popall"],[/\\$/,"string"]]}}}}]);